var app=function(){"use strict";function t(){}function n(t){return t()}function e(){return Object.create(null)}function i(t){t.forEach(n)}function r(t){return"function"==typeof t}function o(t,n){return t!=t?n==n:t!==n||t&&"object"==typeof t||"function"==typeof t}let a,s;function l(t,n){return a||(a=document.createElement("a")),a.href=n,t===a.href}function u(n,e,i){n.$$.on_destroy.push(function(n,...e){if(null==n)return t;const i=n.subscribe(...e);return i.unsubscribe?()=>i.unsubscribe():i}(e,i))}function c(t,n){t.appendChild(n)}function f(t,n,e){t.insertBefore(n,e||null)}function h(t){t.parentNode&&t.parentNode.removeChild(t)}function p(t,n){for(let e=0;e<t.length;e+=1)t[e]&&t[e].d(n)}function d(t){return document.createElement(t)}function v(t){return document.createTextNode(t)}function g(){return v(" ")}function m(t,n,e,i){return t.addEventListener(n,e,i),()=>t.removeEventListener(n,e,i)}function y(t,n,e){null==e?t.removeAttribute(n):t.getAttribute(n)!==e&&t.setAttribute(n,e)}function _(t,n){n=""+n,t.data!==n&&(t.data=n)}function w(t,n,e){t.classList[e?"add":"remove"](n)}function x(t){s=t}function b(){if(!s)throw new Error("Function called outside component initialization");return s}function $(t){b().$$.on_mount.push(t)}const k=[],E=[];let M=[];const z=[],S=Promise.resolve();let N=!1;function A(t){M.push(t)}const C=new Set;let q=0;function T(){if(0!==q)return;const t=s;do{try{for(;q<k.length;){const t=k[q];q++,x(t),j(t.$$)}}catch(t){throw k.length=0,q=0,t}for(x(null),k.length=0,q=0;E.length;)E.pop()();for(let t=0;t<M.length;t+=1){const n=M[t];C.has(n)||(C.add(n),n())}M.length=0}while(k.length);for(;z.length;)z.pop()();N=!1,C.clear(),x(t)}function j(t){if(null!==t.fragment){t.update(),i(t.before_update);const n=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,n),t.after_update.forEach(A)}}const P=new Set;let R;function I(t,n){t&&t.i&&(P.delete(t),t.i(n))}function L(t,n,e,i){if(t&&t.o){if(P.has(t))return;P.add(t),R.c.push((()=>{P.delete(t),i&&(e&&t.d(1),i())})),t.o(n)}else i&&i()}function D(t){t&&t.c()}function X(t,e,o,a){const{fragment:s,after_update:l}=t.$$;s&&s.m(e,o),a||A((()=>{const e=t.$$.on_mount.map(n).filter(r);t.$$.on_destroy?t.$$.on_destroy.push(...e):i(e),t.$$.on_mount=[]})),l.forEach(A)}function O(t,n){const e=t.$$;null!==e.fragment&&(!function(t){const n=[],e=[];M.forEach((i=>-1===t.indexOf(i)?n.push(i):e.push(i))),e.forEach((t=>t())),M=n}(e.after_update),i(e.on_destroy),e.fragment&&e.fragment.d(n),e.on_destroy=e.fragment=null,e.ctx=[])}function B(t,n){-1===t.$$.dirty[0]&&(k.push(t),N||(N=!0,S.then(T)),t.$$.dirty.fill(0)),t.$$.dirty[n/31|0]|=1<<n%31}function H(n,r,o,a,l,u,c,f=[-1]){const p=s;x(n);const d=n.$$={fragment:null,ctx:[],props:u,update:t,not_equal:l,bound:e(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(r.context||(p?p.$$.context:[])),callbacks:e(),dirty:f,skip_bound:!1,root:r.target||p.$$.root};c&&c(d.root);let v=!1;if(d.ctx=o?o(n,r.props||{},((t,e,...i)=>{const r=i.length?i[0]:e;return d.ctx&&l(d.ctx[t],d.ctx[t]=r)&&(!d.skip_bound&&d.bound[t]&&d.bound[t](r),v&&B(n,t)),e})):[],d.update(),v=!0,i(d.before_update),d.fragment=!!a&&a(d.ctx),r.target){if(r.hydrate){const t=function(t){return Array.from(t.childNodes)}(r.target);d.fragment&&d.fragment.l(t),t.forEach(h)}else d.fragment&&d.fragment.c();r.intro&&I(n.$$.fragment),X(n,r.target,r.anchor,r.customElement),T()}x(p)}class V{$destroy(){O(this,1),this.$destroy=t}$on(n,e){if(!r(e))return t;const i=this.$$.callbacks[n]||(this.$$.callbacks[n]=[]);return i.push(e),()=>{const t=i.indexOf(e);-1!==t&&i.splice(t,1)}}$set(t){var n;this.$$set&&(n=t,0!==Object.keys(n).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const Y=[];function F(n,e=t){let i;const r=new Set;function a(t){if(o(n,t)&&(n=t,i)){const t=!Y.length;for(const t of r)t[1](),Y.push(t,n);if(t){for(let t=0;t<Y.length;t+=2)Y[t][0](Y[t+1]);Y.length=0}}}return{set:a,update:function(t){a(t(n))},subscribe:function(o,s=t){const l=[o,s];return r.add(l),1===r.size&&(i=e(a)||t),o(n),()=>{r.delete(l),0===r.size&&i&&(i(),i=null)}}}}const G=F("info"),U=F(0),J=F({points:[{name:"Centro",coords:[-43.1729,-22.9068],id:0},{name:"Copacabana",coords:[-43.1951,-22.9711],id:1},{name:"Ipanema",coords:[-43.2096,-22.9838],id:2},{name:"Barra da Tijuca",coords:[-43.3647,-23.0184],id:3},{name:"Tijuca",coords:[-43.2385,-22.9249],id:4},{name:"Botafogo",coords:[-43.1822,-22.9519],id:5},{name:"Flamengo",coords:[-43.1756,-22.9311],id:6},{name:"Lagoa",coords:[-43.2058,-22.9711],id:7}],center:[-43.1729,-22.9068],zoom:1}),K=F({imageCount:150,imageBasePath:"./assets/images/",imagePrefix:"",imageExtension:".jpg",paperTitle:"Security Urban Perception Tracking",paperSubtitle:"Eye-tracking visualization with Svelte and D3.js"});function W(t,n,e){const i=t.slice();return i[4]=n[e],i}function Z(t){let n,e,i,r,o,a,s,l,u,p=t[4].icon+"",_=t[4].label+"";function x(){return t[3](t[4])}return{c(){n=d("button"),e=d("span"),i=v(p),r=g(),o=d("span"),a=v(_),s=g(),y(e,"class","tab-icon svelte-1ppi8gh"),y(o,"class","tab-label svelte-1ppi8gh"),y(n,"class","tab svelte-1ppi8gh"),w(n,"active",t[0]===t[4].id)},m(t,h){f(t,n,h),c(n,e),c(e,i),c(n,r),c(n,o),c(o,a),c(n,s),l||(u=m(n,"click",x),l=!0)},p(e,i){t=e,3&i&&w(n,"active",t[0]===t[4].id)},d(t){t&&h(n),l=!1,u()}}}function Q(n){let e,i=n[1],r=[];for(let t=0;t<i.length;t+=1)r[t]=Z(W(n,i,t));return{c(){e=d("nav");for(let t=0;t<r.length;t+=1)r[t].c();y(e,"class","tabs svelte-1ppi8gh")},m(t,n){f(t,e,n);for(let t=0;t<r.length;t+=1)r[t]&&r[t].m(e,null)},p(t,[n]){if(7&n){let o;for(i=t[1],o=0;o<i.length;o+=1){const a=W(t,i,o);r[o]?r[o].p(a,n):(r[o]=Z(a),r[o].c(),r[o].m(e,null))}for(;o<r.length;o+=1)r[o].d(1);r.length=i.length}},i:t,o:t,d(t){t&&h(e),p(r,t)}}}function tt(t,n,e){let i;u(t,G,(t=>e(0,i=t)));function r(t){G.set(t)}return[i,[{id:"info",label:"Informaci√≥n",icon:"üìä"},{id:"slider",label:"Visualizaci√≥n por Slider",icon:"üñºÔ∏è"},{id:"map",label:"Mapa de R√≠o de Janeiro",icon:"üó∫Ô∏è"}],r,t=>r(t.id)]}class nt extends V{constructor(t){super(),H(this,t,tt,Q,o,{})}}function et(n){let e;return{c(){e=d("div"),e.innerHTML='<h2 class="svelte-21g7f">üéØ Introducci√≥n al Proyecto</h2> \n  <p class="svelte-21g7f">Este proyecto presenta una herramienta interactiva de visualizaci√≥n de datos desarrollada \n    con <strong>Svelte</strong> y <strong>D3.js</strong>, dise√±ada para explorar y analizar \n    informaci√≥n geoespacial y temporal de manera intuitiva y moderna.</p> \n  \n  <h3 class="svelte-21g7f">üé® Objetivos</h3> \n  <p class="svelte-21g7f">El objetivo principal es proporcionar una plataforma que permita a los usuarios explorar datos complejos a trav√©s de m√∫ltiples perspectivas:</p> \n  \n  <div class="objectives-grid svelte-21g7f"><div class="objective-card svelte-21g7f"><div class="objective-icon svelte-21g7f">‚è±Ô∏è</div> \n      <h4 class="svelte-21g7f">Exploraci√≥n Temporal</h4> \n      <p class="svelte-21g7f">Mediante un slider interactivo que permite navegar a trav√©s de diferentes momentos o estados de los datos de forma fluida.</p></div> \n    \n    <div class="objective-card svelte-21g7f"><div class="objective-icon svelte-21g7f">üåç</div> \n      <h4 class="svelte-21g7f">An√°lisis Geoespacial</h4> \n      <p class="svelte-21g7f">A trav√©s de mapas interactivos que muestran la distribuci√≥n espacial de la informaci√≥n en R√≠o de Janeiro.</p></div> \n    \n    <div class="objective-card svelte-21g7f"><div class="objective-icon svelte-21g7f">üß†</div> \n      <h4 class="svelte-21g7f">Comprensi√≥n Integral</h4> \n      <p class="svelte-21g7f">Combinando m√∫ltiples formas de visualizaci√≥n para obtener insights m√°s profundos y significativos.</p></div></div> \n  \n  <h3 class="svelte-21g7f">‚öôÔ∏è Metodolog√≠a</h3> \n  <p class="svelte-21g7f">La aplicaci√≥n utiliza tecnolog√≠as web modernas para crear una experiencia de usuario \n    fluida y responsiva. <strong>Svelte</strong> proporciona la reactividad y gesti√≥n del estado \n    de manera eficiente, mientras que <strong>D3.js</strong> maneja las visualizaciones complejas \n    y la manipulaci√≥n de datos geoespaciales.</p> \n  \n  <div class="tech-stack svelte-21g7f"><div class="tech-item svelte-21g7f"><strong>üîß Frontend:</strong> Svelte 3 + JavaScript ES6+</div> \n    <div class="tech-item svelte-21g7f"><strong>üìä Visualizaci√≥n:</strong> D3.js v7 + SVG</div> \n    <div class="tech-item svelte-21g7f"><strong>üé® Estilos:</strong> CSS3 + Responsive Design</div> \n    <div class="tech-item svelte-21g7f"><strong>üì¶ Build:</strong> Rollup + Live Reload</div></div> \n  \n  <h3 class="svelte-21g7f">üìä Datos</h3> \n  <p class="svelte-21g7f">El conjunto de datos comprende <strong>150 elementos indexados (0-149)</strong>, \n    cada uno representado visualmente y geogr√°ficamente localizado en la regi√≥n \n    metropolitana de R√≠o de Janeiro, Brasil. Los datos incluyen informaci√≥n temporal \n    y espacial que permite m√∫ltiples perspectivas de an√°lisis.</p> \n  \n  <div class="stats-container svelte-21g7f"><div class="stat-box svelte-21g7f"><div class="stat-number svelte-21g7f">150</div> \n      <div class="stat-label svelte-21g7f">Elementos de Datos</div></div> \n    <div class="stat-box svelte-21g7f"><div class="stat-number svelte-21g7f">8</div> \n      <div class="stat-label svelte-21g7f">Puntos Geogr√°ficos</div></div> \n    <div class="stat-box svelte-21g7f"><div class="stat-number svelte-21g7f">3</div> \n      <div class="stat-label svelte-21g7f">Modos de Visualizaci√≥n</div></div></div> \n\n  <h3 class="svelte-21g7f">üöÄ Caracter√≠sticas Principales</h3> \n  <ul class="features-list svelte-21g7f"><li class="svelte-21g7f">‚ú® Interfaz moderna y responsiva</li> \n    <li class="svelte-21g7f">üéØ Navegaci√≥n intuitiva por pesta√±as</li> \n    <li class="svelte-21g7f">üñºÔ∏è Visualizaci√≥n de im√°genes con slider interactivo</li> \n    <li class="svelte-21g7f">üó∫Ô∏è Mapa interactivo de R√≠o de Janeiro</li> \n    <li class="svelte-21g7f">üì± Compatible con dispositivos m√≥viles</li> \n    <li class="svelte-21g7f">‚ö° Rendimiento optimizado con Svelte</li></ul>',y(e,"class","info-section svelte-21g7f"),w(e,"mounted",n[0])},m(t,n){f(t,e,n)},p(t,[n]){1&n&&w(e,"mounted",t[0])},i:t,o:t,d(t){t&&h(e)}}}function it(t,n,e){let i=!1;return $((()=>{e(0,i=!0)})),[i]}class rt extends V{constructor(t){super(),H(this,t,it,et,o,{})}}function ot(t,n,e){const i=t.slice();i[23]=n[e],i[26]=e;const r=Math.floor((i[0].imageCount-1)*i[26]/9);return i[24]=r,i}function at(t){let n,e,i,r=t[24]+"";return{c(){var o,a,s,l;n=d("div"),e=v(r),i=g(),y(n,"class","marker svelte-1kwy868"),o=n,a="left",null==(s=t[26]/9*100+"%")?o.style.removeProperty(a):o.style.setProperty(a,s,l?"important":""),w(n,"active",Math.abs(t[1]-t[24])<5)},m(t,r){f(t,n,r),c(n,e),c(n,i)},p(t,i){1&i&&r!==(r=t[24]+"")&&_(e,r),3&i&&w(n,"active",Math.abs(t[1]-t[24])<5)},d(t){t&&h(n)}}}function st(t){let n,e,i,r,o,a;return{c(){n=d("div"),e=d("div"),i=g(),r=d("h3"),o=v("Cargando imagen #"),a=v(t[1]),y(e,"class","loading-spinner svelte-1kwy868"),y(r,"class","svelte-1kwy868"),y(n,"class","loading-placeholder svelte-1kwy868")},m(t,s){f(t,n,s),c(n,e),c(n,i),c(n,r),c(r,o),c(r,a)},p(t,n){2&n&&_(a,t[1])},d(t){t&&h(n)}}}function lt(t){let n,e,i,r,o,a,s,l,u,p,w,x,b,$,k,E;return{c(){n=d("div"),e=d("div"),e.textContent="‚ùå",i=g(),r=d("h3"),r.textContent="Error al cargar imagen",o=g(),a=d("p"),s=v("No se pudo cargar: "),l=d("code"),u=v(t[1]),p=v(".jpg"),w=g(),x=d("p"),x.innerHTML='Aseg√∫rese de que las im√°genes est√©n en la carpeta \n          <code class="svelte-1kwy868">/public/assets/images/</code> con el formato: <code class="svelte-1kwy868">0.jpg, 1.jpg, 2.jpg...</code>',b=g(),$=d("button"),$.textContent="üîÑ Reintentar",y(e,"class","error-icon svelte-1kwy868"),y(r,"class","svelte-1kwy868"),y(l,"class","svelte-1kwy868"),y(x,"class","error-details svelte-1kwy868"),y($,"class","retry-button svelte-1kwy868"),y(n,"class","error-placeholder svelte-1kwy868")},m(h,d){f(h,n,d),c(n,e),c(n,i),c(n,r),c(n,o),c(n,a),c(a,s),c(a,l),c(l,u),c(l,p),c(n,w),c(n,x),c(n,b),c(n,$),k||(E=m($,"click",t[21]),k=!0)},p(t,n){2&n&&_(u,t[1])},d(t){t&&h(n),k=!1,E()}}}function ut(t){let n,e,i,r;return{c(){n=d("div"),e=d("span"),i=v("Imagen #"),r=v(t[1]),y(e,"class","image-title svelte-1kwy868"),y(n,"class","image-info svelte-1kwy868")},m(t,o){f(t,n,o),c(n,e),c(e,i),c(e,r)},p(t,n){2&n&&_(r,t[1])},d(t){t&&h(n)}}}function ct(n){let e,r,o,a,s,u,x,b,$,k,E,M,z,S,N,A,C,q,T,j,P,R,I,L,D,X,O,B,H,V,Y,F,G,U,J,K,W,Z,Q,tt,nt,et,it,rt,ct,ht,pt,dt,vt,gt,mt,yt,_t,wt,xt,bt,$t,kt,Et,Mt,zt,St,Nt,At,Ct,qt,Tt,jt,Pt,Rt,It,Lt=n[0].imageCount-1+"",Dt=n[0].imageCount-1+"",Xt=Math.round(n[1]/(n[0].imageCount-1)*100)+"",Ot=Array(Math.min(10,n[0].imageCount)),Bt=[];for(let t=0;t<Ot.length;t+=1)Bt[t]=at(ot(n,Ot,t));function Ht(t,n){return t[4]?lt:t[3]?void 0:st}let Vt=Ht(n),Yt=Vt&&Vt(n),Ft=n[3]&&ut(n);return{c(){e=d("div"),r=d("h2"),r.textContent="üñºÔ∏è Exploraci√≥n Temporal",o=g(),a=d("p"),s=v("Use el slider para navegar a trav√©s de las diferentes im√°genes del dataset (0-"),u=v(Lt),x=v(").\r\n    Tambi√©n puede usar las flechas del teclado para navegar."),b=g(),$=d("div"),k=d("div"),E=d("button"),M=v("‚óÄ"),S=g(),N=d("div"),A=d("input"),q=g(),T=d("span"),T.textContent="/",j=g(),P=d("span"),R=v(Dt),I=g(),L=d("button"),D=v("‚ñ∂"),O=g(),B=d("div"),H=d("input"),Y=g(),F=d("div");for(let t=0;t<Bt.length;t+=1)Bt[t].c();G=g(),U=d("div"),J=d("button"),J.textContent="Inicio",K=g(),W=d("button"),W.textContent="25%",Z=g(),Q=d("button"),Q.textContent="50%",tt=g(),nt=d("button"),nt.textContent="75%",et=g(),it=d("button"),it.textContent="Final",rt=g(),ct=d("div"),Yt&&Yt.c(),ht=g(),pt=d("img"),gt=g(),Ft&&Ft.c(),mt=g(),yt=d("div"),_t=d("h3"),_t.textContent="‚ÑπÔ∏è Informaci√≥n de Navegaci√≥n",wt=g(),xt=d("div"),bt=d("div"),bt.innerHTML='<strong>Atajos de teclado:</strong> \n        <ul class="svelte-1kwy868"><li class="svelte-1kwy868">‚Üê ‚Üí Navegar im√°genes</li> \n          <li class="svelte-1kwy868">Home/End Ir al inicio/final</li></ul>',$t=g(),kt=d("div"),Et=d("strong"),Et.textContent="Imagen actual:",Mt=g(),zt=d("ul"),St=d("li"),Nt=v("N√∫mero: "),At=v(n[1]),Ct=g(),qt=d("li"),Tt=v("Progreso: "),jt=v(Xt),Pt=v("%"),y(r,"class","svelte-1kwy868"),y(a,"class","description svelte-1kwy868"),y(E,"class","nav-button svelte-1kwy868"),E.disabled=z=0===n[1],y(E,"title","Imagen anterior (‚Üê)"),y(A,"type","number"),y(A,"min","0"),y(A,"max",C=n[0].imageCount-1),A.value=n[1],y(A,"class","current-number-input svelte-1kwy868"),y(A,"title","Escriba el n√∫mero de imagen"),y(T,"class","separator svelte-1kwy868"),y(P,"class","total-number svelte-1kwy868"),y(N,"class","image-counter svelte-1kwy868"),y(L,"class","nav-button svelte-1kwy868"),L.disabled=X=n[1]===n[0].imageCount-1,y(L,"title","Imagen siguiente (‚Üí)"),y(k,"class","navigation-controls svelte-1kwy868"),y(H,"type","range"),y(H,"min","0"),y(H,"max",V=n[0].imageCount-1),H.value=n[1],y(H,"class","slider svelte-1kwy868"),y(H,"title","Deslice para cambiar de imagen"),y(F,"class","slider-markers svelte-1kwy868"),y(B,"class","slider-container svelte-1kwy868"),y(J,"class","jump-button svelte-1kwy868"),y(W,"class","jump-button svelte-1kwy868"),y(Q,"class","jump-button svelte-1kwy868"),y(nt,"class","jump-button svelte-1kwy868"),y(it,"class","jump-button svelte-1kwy868"),y(U,"class","quick-jump svelte-1kwy868"),y($,"class","controls-section svelte-1kwy868"),l(pt.src,dt=n[6])||y(pt,"src",dt),y(pt,"alt",vt="Imagen "+n[1]),y(pt,"class","main-image svelte-1kwy868"),w(pt,"loaded",n[3]),y(ct,"class","image-container svelte-1kwy868"),y(_t,"class","svelte-1kwy868"),y(bt,"class","info-item svelte-1kwy868"),y(St,"class","svelte-1kwy868"),y(qt,"class","svelte-1kwy868"),y(zt,"class","svelte-1kwy868"),y(kt,"class","info-item svelte-1kwy868"),y(xt,"class","info-grid svelte-1kwy868"),y(yt,"class","info-panel svelte-1kwy868"),y(e,"class","slider-section svelte-1kwy868"),w(e,"mounted",n[5])},m(t,i){f(t,e,i),c(e,r),c(e,o),c(e,a),c(a,s),c(a,u),c(a,x),c(e,b),c(e,$),c($,k),c(k,E),c(E,M),c(k,S),c(k,N),c(N,A),c(N,q),c(N,T),c(N,j),c(N,P),c(P,R),c(k,I),c(k,L),c(L,D),c($,O),c($,B),c(B,H),c(B,Y),c(B,F);for(let t=0;t<Bt.length;t+=1)Bt[t]&&Bt[t].m(F,null);c($,G),c($,U),c(U,J),c(U,K),c(U,W),c(U,Z),c(U,Q),c(U,tt),c(U,nt),c(U,et),c(U,it),c(e,rt),c(e,ct),Yt&&Yt.m(ct,null),c(ct,ht),c(ct,pt),n[22](pt),c(ct,gt),Ft&&Ft.m(ct,null),c(e,mt),c(e,yt),c(yt,_t),c(yt,wt),c(yt,xt),c(xt,bt),c(xt,$t),c(xt,kt),c(kt,Et),c(kt,Mt),c(kt,zt),c(zt,St),c(St,Nt),c(St,At),c(zt,Ct),c(zt,qt),c(qt,Tt),c(qt,jt),c(qt,Pt),Rt||(It=[m(window,"keydown",n[14]),m(E,"click",n[10]),m(A,"input",n[13]),m(A,"keydown",ft),m(L,"click",n[11]),m(H,"input",n[7]),m(J,"click",n[16]),m(W,"click",n[17]),m(Q,"click",n[18]),m(nt,"click",n[19]),m(it,"click",n[20]),m(pt,"load",n[8]),m(pt,"error",n[9])],Rt=!0)},p(t,[n]){if(1&n&&Lt!==(Lt=t[0].imageCount-1+"")&&_(u,Lt),2&n&&z!==(z=0===t[1])&&(E.disabled=z),1&n&&C!==(C=t[0].imageCount-1)&&y(A,"max",C),2&n&&A.value!==t[1]&&(A.value=t[1]),1&n&&Dt!==(Dt=t[0].imageCount-1+"")&&_(R,Dt),3&n&&X!==(X=t[1]===t[0].imageCount-1)&&(L.disabled=X),1&n&&V!==(V=t[0].imageCount-1)&&y(H,"max",V),2&n&&(H.value=t[1]),3&n){let e;for(Ot=Array(Math.min(10,t[0].imageCount)),e=0;e<Ot.length;e+=1){const i=ot(t,Ot,e);Bt[e]?Bt[e].p(i,n):(Bt[e]=at(i),Bt[e].c(),Bt[e].m(F,null))}for(;e<Bt.length;e+=1)Bt[e].d(1);Bt.length=Ot.length}Vt===(Vt=Ht(t))&&Yt?Yt.p(t,n):(Yt&&Yt.d(1),Yt=Vt&&Vt(t),Yt&&(Yt.c(),Yt.m(ct,ht))),64&n&&!l(pt.src,dt=t[6])&&y(pt,"src",dt),2&n&&vt!==(vt="Imagen "+t[1])&&y(pt,"alt",vt),8&n&&w(pt,"loaded",t[3]),t[3]?Ft?Ft.p(t,n):(Ft=ut(t),Ft.c(),Ft.m(ct,null)):Ft&&(Ft.d(1),Ft=null),2&n&&_(At,t[1]),3&n&&Xt!==(Xt=Math.round(t[1]/(t[0].imageCount-1)*100)+"")&&_(jt,Xt),32&n&&w(e,"mounted",t[5])},i:t,o:t,d(t){t&&h(e),p(Bt,t),Yt&&Yt.d(),n[22](null),Ft&&Ft.d(),Rt=!1,i(It)}}}function ft(t){"Enter"===t.key&&t.target.blur()}function ht(t,n,e){let i,r,o,a,s;u(t,U,(t=>e(1,o=t))),u(t,K,(t=>e(15,a=t)));let l=!1,c=!1,f=!1;function h(){o>0&&U.set(o-1)}function p(){o<i.imageCount-1&&U.set(o+1)}function d(t){t>=0&&t<i.imageCount&&(U.set(t),e(3,l=!1),e(4,c=!1))}$((()=>{e(5,f=!0)}));return t.$$.update=()=>{32768&t.$$.dirty&&e(0,i=a),3&t.$$.dirty&&e(6,r=`${i.imageBasePath}${i.imagePrefix}${o}${i.imageExtension}`)},[i,o,s,l,c,f,r,function(t){const n=parseInt(t.target.value);U.set(n),e(3,l=!1),e(4,c=!1)},function(){e(3,l=!0),e(4,c=!1)},function(){e(3,l=!1),e(4,c=!0)},h,p,d,function(t){const n=parseInt(t.target.value);isNaN(n)||d(n)},function(t){switch(t.key){case"ArrowLeft":t.preventDefault(),h();break;case"ArrowRight":t.preventDefault(),p();break;case"Home":t.preventDefault(),d(0);break;case"End":t.preventDefault(),d(i.imageCount-1)}},a,()=>d(0),()=>d(Math.floor(i.imageCount/4)),()=>d(Math.floor(i.imageCount/2)),()=>d(Math.floor(3*i.imageCount/4)),()=>d(i.imageCount-1),()=>{e(4,c=!1),e(3,l=!1)},function(t){E[t?"unshift":"push"]((()=>{s=t,e(2,s)}))}]}class pt extends V{constructor(t){super(),H(this,t,ht,ct,o,{})}}class dt{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const n=this._partials;let e=0;for(let i=0;i<this._n&&i<32;i++){const r=n[i],o=t+r,a=Math.abs(t)<Math.abs(r)?t-(o-r):r-(o-t);a&&(n[e++]=a),t=o}return n[e]=t,this._n=e+1,this}valueOf(){const t=this._partials;let n,e,i,r=this._n,o=0;if(r>0){for(o=t[--r];r>0&&(n=o,e=t[--r],o=n+e,i=e-(o-n),!i););r>0&&(i<0&&t[r-1]<0||i>0&&t[r-1]>0)&&(e=2*i,n=o+e,e==n-o&&(o=n))}return o}}function vt(t){return Array.from(function*(t){for(const n of t)yield*n}(t))}var gt={value:()=>{}};function mt(){for(var t,n=0,e=arguments.length,i={};n<e;++n){if(!(t=arguments[n]+"")||t in i||/[\s.]/.test(t))throw new Error("illegal type: "+t);i[t]=[]}return new yt(i)}function yt(t){this._=t}function _t(t,n){for(var e,i=0,r=t.length;i<r;++i)if((e=t[i]).name===n)return e.value}function wt(t,n,e){for(var i=0,r=t.length;i<r;++i)if(t[i].name===n){t[i]=gt,t=t.slice(0,i).concat(t.slice(i+1));break}return null!=e&&t.push({name:n,value:e}),t}yt.prototype=mt.prototype={constructor:yt,on:function(t,n){var e,i,r=this._,o=(i=r,(t+"").trim().split(/^|\s+/).map((function(t){var n="",e=t.indexOf(".");if(e>=0&&(n=t.slice(e+1),t=t.slice(0,e)),t&&!i.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}}))),a=-1,s=o.length;if(!(arguments.length<2)){if(null!=n&&"function"!=typeof n)throw new Error("invalid callback: "+n);for(;++a<s;)if(e=(t=o[a]).type)r[e]=wt(r[e],t.name,n);else if(null==n)for(e in r)r[e]=wt(r[e],t.name,null);return this}for(;++a<s;)if((e=(t=o[a]).type)&&(e=_t(r[e],t.name)))return e},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new yt(t)},call:function(t,n){if((e=arguments.length-2)>0)for(var e,i,r=new Array(e),o=0;o<e;++o)r[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,e=(i=this._[t]).length;o<e;++o)i[o].value.apply(n,r)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var i=this._[t],r=0,o=i.length;r<o;++r)i[r].value.apply(n,e)}};var xt="http://www.w3.org/1999/xhtml",bt={svg:"http://www.w3.org/2000/svg",xhtml:xt,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function $t(t){var n=t+="",e=n.indexOf(":");return e>=0&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),bt.hasOwnProperty(n)?{space:bt[n],local:t}:t}function kt(t){return function(){var n=this.ownerDocument,e=this.namespaceURI;return e===xt&&n.documentElement.namespaceURI===xt?n.createElement(t):n.createElementNS(e,t)}}function Et(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Mt(t){var n=$t(t);return(n.local?Et:kt)(n)}function zt(){}function St(t){return null==t?zt:function(){return this.querySelector(t)}}function Nt(){return[]}function At(t){return null==t?Nt:function(){return this.querySelectorAll(t)}}function Ct(t){return function(){return function(t){return null==t?[]:Array.isArray(t)?t:Array.from(t)}(t.apply(this,arguments))}}function qt(t){return function(){return this.matches(t)}}function Tt(t){return function(n){return n.matches(t)}}var jt=Array.prototype.find;function Pt(){return this.firstElementChild}var Rt=Array.prototype.filter;function It(){return Array.from(this.children)}function Lt(t){return new Array(t.length)}function Dt(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}function Xt(t,n,e,i,r,o){for(var a,s=0,l=n.length,u=o.length;s<u;++s)(a=n[s])?(a.__data__=o[s],i[s]=a):e[s]=new Dt(t,o[s]);for(;s<l;++s)(a=n[s])&&(r[s]=a)}function Ot(t,n,e,i,r,o,a){var s,l,u,c=new Map,f=n.length,h=o.length,p=new Array(f);for(s=0;s<f;++s)(l=n[s])&&(p[s]=u=a.call(l,l.__data__,s,n)+"",c.has(u)?r[s]=l:c.set(u,l));for(s=0;s<h;++s)u=a.call(t,o[s],s,o)+"",(l=c.get(u))?(i[s]=l,l.__data__=o[s],c.delete(u)):e[s]=new Dt(t,o[s]);for(s=0;s<f;++s)(l=n[s])&&c.get(p[s])===l&&(r[s]=l)}function Bt(t){return t.__data__}function Ht(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function Vt(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function Yt(t){return function(){this.removeAttribute(t)}}function Ft(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Gt(t,n){return function(){this.setAttribute(t,n)}}function Ut(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}function Jt(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttribute(t):this.setAttribute(t,e)}}function Kt(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}function Wt(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Zt(t){return function(){this.style.removeProperty(t)}}function Qt(t,n,e){return function(){this.style.setProperty(t,n,e)}}function tn(t,n,e){return function(){var i=n.apply(this,arguments);null==i?this.style.removeProperty(t):this.style.setProperty(t,i,e)}}function nn(t,n){return t.style.getPropertyValue(n)||Wt(t).getComputedStyle(t,null).getPropertyValue(n)}function en(t){return function(){delete this[t]}}function rn(t,n){return function(){this[t]=n}}function on(t,n){return function(){var e=n.apply(this,arguments);null==e?delete this[t]:this[t]=e}}function an(t){return t.trim().split(/^|\s+/)}function sn(t){return t.classList||new ln(t)}function ln(t){this._node=t,this._names=an(t.getAttribute("class")||"")}function un(t,n){for(var e=sn(t),i=-1,r=n.length;++i<r;)e.add(n[i])}function cn(t,n){for(var e=sn(t),i=-1,r=n.length;++i<r;)e.remove(n[i])}function fn(t){return function(){un(this,t)}}function hn(t){return function(){cn(this,t)}}function pn(t,n){return function(){(n.apply(this,arguments)?un:cn)(this,t)}}function dn(){this.textContent=""}function vn(t){return function(){this.textContent=t}}function gn(t){return function(){var n=t.apply(this,arguments);this.textContent=null==n?"":n}}function mn(){this.innerHTML=""}function yn(t){return function(){this.innerHTML=t}}function _n(t){return function(){var n=t.apply(this,arguments);this.innerHTML=null==n?"":n}}function wn(){this.nextSibling&&this.parentNode.appendChild(this)}function xn(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function bn(){return null}function $n(){var t=this.parentNode;t&&t.removeChild(this)}function kn(){var t=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function En(){var t=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function Mn(t){return function(){var n=this.__on;if(n){for(var e,i=0,r=-1,o=n.length;i<o;++i)e=n[i],t.type&&e.type!==t.type||e.name!==t.name?n[++r]=e:this.removeEventListener(e.type,e.listener,e.options);++r?n.length=r:delete this.__on}}}function zn(t,n,e){return function(){var i,r=this.__on,o=function(t){return function(n){t.call(this,n,this.__data__)}}(n);if(r)for(var a=0,s=r.length;a<s;++a)if((i=r[a]).type===t.type&&i.name===t.name)return this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=e),void(i.value=n);this.addEventListener(t.type,o,e),i={type:t.type,name:t.name,value:n,listener:o,options:e},r?r.push(i):this.__on=[i]}}function Sn(t,n,e){var i=Wt(t),r=i.CustomEvent;"function"==typeof r?r=new r(n,e):(r=i.document.createEvent("Event"),e?(r.initEvent(n,e.bubbles,e.cancelable),r.detail=e.detail):r.initEvent(n,!1,!1)),t.dispatchEvent(r)}function Nn(t,n){return function(){return Sn(this,t,n)}}function An(t,n){return function(){return Sn(this,t,n.apply(this,arguments))}}Dt.prototype={constructor:Dt,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}},ln.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var Cn=[null];function qn(t,n){this._groups=t,this._parents=n}function Tn(){return new qn([[document.documentElement]],Cn)}function jn(t){return"string"==typeof t?new qn([[document.querySelector(t)]],[document.documentElement]):new qn([[t]],Cn)}function Pn(t,n){if(t=function(t){let n;for(;n=t.sourceEvent;)t=n;return t}(t),void 0===n&&(n=t.currentTarget),n){var e=n.ownerSVGElement||n;if(e.createSVGPoint){var i=e.createSVGPoint();return i.x=t.clientX,i.y=t.clientY,[(i=i.matrixTransform(n.getScreenCTM().inverse())).x,i.y]}if(n.getBoundingClientRect){var r=n.getBoundingClientRect();return[t.clientX-r.left-n.clientLeft,t.clientY-r.top-n.clientTop]}}return[t.pageX,t.pageY]}qn.prototype=Tn.prototype={constructor:qn,select:function(t){"function"!=typeof t&&(t=St(t));for(var n=this._groups,e=n.length,i=new Array(e),r=0;r<e;++r)for(var o,a,s=n[r],l=s.length,u=i[r]=new Array(l),c=0;c<l;++c)(o=s[c])&&(a=t.call(o,o.__data__,c,s))&&("__data__"in o&&(a.__data__=o.__data__),u[c]=a);return new qn(i,this._parents)},selectAll:function(t){t="function"==typeof t?Ct(t):At(t);for(var n=this._groups,e=n.length,i=[],r=[],o=0;o<e;++o)for(var a,s=n[o],l=s.length,u=0;u<l;++u)(a=s[u])&&(i.push(t.call(a,a.__data__,u,s)),r.push(a));return new qn(i,r)},selectChild:function(t){return this.select(null==t?Pt:function(t){return function(){return jt.call(this.children,t)}}("function"==typeof t?t:Tt(t)))},selectChildren:function(t){return this.selectAll(null==t?It:function(t){return function(){return Rt.call(this.children,t)}}("function"==typeof t?t:Tt(t)))},filter:function(t){"function"!=typeof t&&(t=qt(t));for(var n=this._groups,e=n.length,i=new Array(e),r=0;r<e;++r)for(var o,a=n[r],s=a.length,l=i[r]=[],u=0;u<s;++u)(o=a[u])&&t.call(o,o.__data__,u,a)&&l.push(o);return new qn(i,this._parents)},data:function(t,n){if(!arguments.length)return Array.from(this,Bt);var e=n?Ot:Xt,i=this._parents,r=this._groups;"function"!=typeof t&&(t=function(t){return function(){return t}}(t));for(var o=r.length,a=new Array(o),s=new Array(o),l=new Array(o),u=0;u<o;++u){var c=i[u],f=r[u],h=f.length,p=Ht(t.call(c,c&&c.__data__,u,i)),d=p.length,v=s[u]=new Array(d),g=a[u]=new Array(d);e(c,f,v,g,l[u]=new Array(h),p,n);for(var m,y,_=0,w=0;_<d;++_)if(m=v[_]){for(_>=w&&(w=_+1);!(y=g[w])&&++w<d;);m._next=y||null}}return(a=new qn(a,i))._enter=s,a._exit=l,a},enter:function(){return new qn(this._enter||this._groups.map(Lt),this._parents)},exit:function(){return new qn(this._exit||this._groups.map(Lt),this._parents)},join:function(t,n,e){var i=this.enter(),r=this,o=this.exit();return"function"==typeof t?(i=t(i))&&(i=i.selection()):i=i.append(t+""),null!=n&&(r=n(r))&&(r=r.selection()),null==e?o.remove():e(o),i&&r?i.merge(r).order():r},merge:function(t){for(var n=t.selection?t.selection():t,e=this._groups,i=n._groups,r=e.length,o=i.length,a=Math.min(r,o),s=new Array(r),l=0;l<a;++l)for(var u,c=e[l],f=i[l],h=c.length,p=s[l]=new Array(h),d=0;d<h;++d)(u=c[d]||f[d])&&(p[d]=u);for(;l<r;++l)s[l]=e[l];return new qn(s,this._parents)},selection:function(){return this},order:function(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var i,r=t[n],o=r.length-1,a=r[o];--o>=0;)(i=r[o])&&(a&&4^i.compareDocumentPosition(a)&&a.parentNode.insertBefore(i,a),a=i);return this},sort:function(t){function n(n,e){return n&&e?t(n.__data__,e.__data__):!n-!e}t||(t=Vt);for(var e=this._groups,i=e.length,r=new Array(i),o=0;o<i;++o){for(var a,s=e[o],l=s.length,u=r[o]=new Array(l),c=0;c<l;++c)(a=s[c])&&(u[c]=a);u.sort(n)}return new qn(r,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var i=t[n],r=0,o=i.length;r<o;++r){var a=i[r];if(a)return a}return null},size:function(){let t=0;for(const n of this)++t;return t},empty:function(){return!this.node()},each:function(t){for(var n=this._groups,e=0,i=n.length;e<i;++e)for(var r,o=n[e],a=0,s=o.length;a<s;++a)(r=o[a])&&t.call(r,r.__data__,a,o);return this},attr:function(t,n){var e=$t(t);if(arguments.length<2){var i=this.node();return e.local?i.getAttributeNS(e.space,e.local):i.getAttribute(e)}return this.each((null==n?e.local?Ft:Yt:"function"==typeof n?e.local?Kt:Jt:e.local?Ut:Gt)(e,n))},style:function(t,n,e){return arguments.length>1?this.each((null==n?Zt:"function"==typeof n?tn:Qt)(t,n,null==e?"":e)):nn(this.node(),t)},property:function(t,n){return arguments.length>1?this.each((null==n?en:"function"==typeof n?on:rn)(t,n)):this.node()[t]},classed:function(t,n){var e=an(t+"");if(arguments.length<2){for(var i=sn(this.node()),r=-1,o=e.length;++r<o;)if(!i.contains(e[r]))return!1;return!0}return this.each(("function"==typeof n?pn:n?fn:hn)(e,n))},text:function(t){return arguments.length?this.each(null==t?dn:("function"==typeof t?gn:vn)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?mn:("function"==typeof t?_n:yn)(t)):this.node().innerHTML},raise:function(){return this.each(wn)},lower:function(){return this.each(xn)},append:function(t){var n="function"==typeof t?t:Mt(t);return this.select((function(){return this.appendChild(n.apply(this,arguments))}))},insert:function(t,n){var e="function"==typeof t?t:Mt(t),i=null==n?bn:"function"==typeof n?n:St(n);return this.select((function(){return this.insertBefore(e.apply(this,arguments),i.apply(this,arguments)||null)}))},remove:function(){return this.each($n)},clone:function(t){return this.select(t?En:kn)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,n,e){var i,r,o=function(t){return t.trim().split(/^|\s+/).map((function(t){var n="",e=t.indexOf(".");return e>=0&&(n=t.slice(e+1),t=t.slice(0,e)),{type:t,name:n}}))}(t+""),a=o.length;if(!(arguments.length<2)){for(s=n?zn:Mn,i=0;i<a;++i)this.each(s(o[i],n,e));return this}var s=this.node().__on;if(s)for(var l,u=0,c=s.length;u<c;++u)for(i=0,l=s[u];i<a;++i)if((r=o[i]).type===l.type&&r.name===l.name)return l.value},dispatch:function(t,n){return this.each(("function"==typeof n?An:Nn)(t,n))},[Symbol.iterator]:function*(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var i,r=t[n],o=0,a=r.length;o<a;++o)(i=r[o])&&(yield i)}};const Rn={capture:!0,passive:!1};function In(t){t.preventDefault(),t.stopImmediatePropagation()}function Ln(t,n,e){t.prototype=n.prototype=e,e.constructor=t}function Dn(t,n){var e=Object.create(t.prototype);for(var i in n)e[i]=n[i];return e}function Xn(){}var On=.7,Bn=1/On,Hn="\\s*([+-]?\\d+)\\s*",Vn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Yn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Fn=/^#([0-9a-f]{3,8})$/,Gn=new RegExp(`^rgb\\(${Hn},${Hn},${Hn}\\)$`),Un=new RegExp(`^rgb\\(${Yn},${Yn},${Yn}\\)$`),Jn=new RegExp(`^rgba\\(${Hn},${Hn},${Hn},${Vn}\\)$`),Kn=new RegExp(`^rgba\\(${Yn},${Yn},${Yn},${Vn}\\)$`),Wn=new RegExp(`^hsl\\(${Vn},${Yn},${Yn}\\)$`),Zn=new RegExp(`^hsla\\(${Vn},${Yn},${Yn},${Vn}\\)$`),Qn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function te(){return this.rgb().formatHex()}function ne(){return this.rgb().formatRgb()}function ee(t){var n,e;return t=(t+"").trim().toLowerCase(),(n=Fn.exec(t))?(e=n[1].length,n=parseInt(n[1],16),6===e?ie(n):3===e?new ae(n>>8&15|n>>4&240,n>>4&15|240&n,(15&n)<<4|15&n,1):8===e?re(n>>24&255,n>>16&255,n>>8&255,(255&n)/255):4===e?re(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|240&n,((15&n)<<4|15&n)/255):null):(n=Gn.exec(t))?new ae(n[1],n[2],n[3],1):(n=Un.exec(t))?new ae(255*n[1]/100,255*n[2]/100,255*n[3]/100,1):(n=Jn.exec(t))?re(n[1],n[2],n[3],n[4]):(n=Kn.exec(t))?re(255*n[1]/100,255*n[2]/100,255*n[3]/100,n[4]):(n=Wn.exec(t))?he(n[1],n[2]/100,n[3]/100,1):(n=Zn.exec(t))?he(n[1],n[2]/100,n[3]/100,n[4]):Qn.hasOwnProperty(t)?ie(Qn[t]):"transparent"===t?new ae(NaN,NaN,NaN,0):null}function ie(t){return new ae(t>>16&255,t>>8&255,255&t,1)}function re(t,n,e,i){return i<=0&&(t=n=e=NaN),new ae(t,n,e,i)}function oe(t,n,e,i){return 1===arguments.length?((r=t)instanceof Xn||(r=ee(r)),r?new ae((r=r.rgb()).r,r.g,r.b,r.opacity):new ae):new ae(t,n,e,null==i?1:i);var r}function ae(t,n,e,i){this.r=+t,this.g=+n,this.b=+e,this.opacity=+i}function se(){return`#${fe(this.r)}${fe(this.g)}${fe(this.b)}`}function le(){const t=ue(this.opacity);return`${1===t?"rgb(":"rgba("}${ce(this.r)}, ${ce(this.g)}, ${ce(this.b)}${1===t?")":`, ${t})`}`}function ue(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function ce(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function fe(t){return((t=ce(t))<16?"0":"")+t.toString(16)}function he(t,n,e,i){return i<=0?t=n=e=NaN:e<=0||e>=1?t=n=NaN:n<=0&&(t=NaN),new de(t,n,e,i)}function pe(t){if(t instanceof de)return new de(t.h,t.s,t.l,t.opacity);if(t instanceof Xn||(t=ee(t)),!t)return new de;if(t instanceof de)return t;var n=(t=t.rgb()).r/255,e=t.g/255,i=t.b/255,r=Math.min(n,e,i),o=Math.max(n,e,i),a=NaN,s=o-r,l=(o+r)/2;return s?(a=n===o?(e-i)/s+6*(e<i):e===o?(i-n)/s+2:(n-e)/s+4,s/=l<.5?o+r:2-o-r,a*=60):s=l>0&&l<1?0:a,new de(a,s,l,t.opacity)}function de(t,n,e,i){this.h=+t,this.s=+n,this.l=+e,this.opacity=+i}function ve(t){return(t=(t||0)%360)<0?t+360:t}function ge(t){return Math.max(0,Math.min(1,t||0))}function me(t,n,e){return 255*(t<60?n+(e-n)*t/60:t<180?e:t<240?n+(e-n)*(240-t)/60:n)}Ln(Xn,ee,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:te,formatHex:te,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return pe(this).formatHsl()},formatRgb:ne,toString:ne}),Ln(ae,oe,Dn(Xn,{brighter(t){return t=null==t?Bn:Math.pow(Bn,t),new ae(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=null==t?On:Math.pow(On,t),new ae(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new ae(ce(this.r),ce(this.g),ce(this.b),ue(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:se,formatHex:se,formatHex8:function(){return`#${fe(this.r)}${fe(this.g)}${fe(this.b)}${fe(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:le,toString:le})),Ln(de,(function(t,n,e,i){return 1===arguments.length?pe(t):new de(t,n,e,null==i?1:i)}),Dn(Xn,{brighter(t){return t=null==t?Bn:Math.pow(Bn,t),new de(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=null==t?On:Math.pow(On,t),new de(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+360*(this.h<0),n=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,i=e+(e<.5?e:1-e)*n,r=2*e-i;return new ae(me(t>=240?t-240:t+120,r,i),me(t,r,i),me(t<120?t+240:t-120,r,i),this.opacity)},clamp(){return new de(ve(this.h),ge(this.s),ge(this.l),ue(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=ue(this.opacity);return`${1===t?"hsl(":"hsla("}${ve(this.h)}, ${100*ge(this.s)}%, ${100*ge(this.l)}%${1===t?")":`, ${t})`}`}}));var ye=t=>()=>t;function _e(t){return 1===(t=+t)?we:function(n,e){return e-n?function(t,n,e){return t=Math.pow(t,e),n=Math.pow(n,e)-t,e=1/e,function(i){return Math.pow(t+i*n,e)}}(n,e,t):ye(isNaN(n)?e:n)}}function we(t,n){var e=n-t;return e?function(t,n){return function(e){return t+e*n}}(t,e):ye(isNaN(t)?n:t)}var xe=function t(n){var e=_e(n);function i(t,n){var i=e((t=oe(t)).r,(n=oe(n)).r),r=e(t.g,n.g),o=e(t.b,n.b),a=we(t.opacity,n.opacity);return function(n){return t.r=i(n),t.g=r(n),t.b=o(n),t.opacity=a(n),t+""}}return i.gamma=t,i}(1);function be(t,n){return t=+t,n=+n,function(e){return t*(1-e)+n*e}}var $e=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ke=new RegExp($e.source,"g");function Ee(t,n){var e,i,r,o=$e.lastIndex=ke.lastIndex=0,a=-1,s=[],l=[];for(t+="",n+="";(e=$e.exec(t))&&(i=ke.exec(n));)(r=i.index)>o&&(r=n.slice(o,r),s[a]?s[a]+=r:s[++a]=r),(e=e[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,l.push({i:a,x:be(e,i)})),o=ke.lastIndex;return o<n.length&&(r=n.slice(o),s[a]?s[a]+=r:s[++a]=r),s.length<2?l[0]?function(t){return function(n){return t(n)+""}}(l[0].x):function(t){return function(){return t}}(n):(n=l.length,function(t){for(var e,i=0;i<n;++i)s[(e=l[i]).i]=e.x(t);return s.join("")})}var Me,ze=180/Math.PI,Se={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Ne(t,n,e,i,r,o){var a,s,l;return(a=Math.sqrt(t*t+n*n))&&(t/=a,n/=a),(l=t*e+n*i)&&(e-=t*l,i-=n*l),(s=Math.sqrt(e*e+i*i))&&(e/=s,i/=s,l/=s),t*i<n*e&&(t=-t,n=-n,l=-l,a=-a),{translateX:r,translateY:o,rotate:Math.atan2(n,t)*ze,skewX:Math.atan(l)*ze,scaleX:a,scaleY:s}}function Ae(t,n,e,i){function r(t){return t.length?t.pop()+" ":""}return function(o,a){var s=[],l=[];return o=t(o),a=t(a),function(t,i,r,o,a,s){if(t!==r||i!==o){var l=a.push("translate(",null,n,null,e);s.push({i:l-4,x:be(t,r)},{i:l-2,x:be(i,o)})}else(r||o)&&a.push("translate("+r+n+o+e)}(o.translateX,o.translateY,a.translateX,a.translateY,s,l),function(t,n,e,o){t!==n?(t-n>180?n+=360:n-t>180&&(t+=360),o.push({i:e.push(r(e)+"rotate(",null,i)-2,x:be(t,n)})):n&&e.push(r(e)+"rotate("+n+i)}(o.rotate,a.rotate,s,l),function(t,n,e,o){t!==n?o.push({i:e.push(r(e)+"skewX(",null,i)-2,x:be(t,n)}):n&&e.push(r(e)+"skewX("+n+i)}(o.skewX,a.skewX,s,l),function(t,n,e,i,o,a){if(t!==e||n!==i){var s=o.push(r(o)+"scale(",null,",",null,")");a.push({i:s-4,x:be(t,e)},{i:s-2,x:be(n,i)})}else 1===e&&1===i||o.push(r(o)+"scale("+e+","+i+")")}(o.scaleX,o.scaleY,a.scaleX,a.scaleY,s,l),o=a=null,function(t){for(var n,e=-1,i=l.length;++e<i;)s[(n=l[e]).i]=n.x(t);return s.join("")}}}var Ce=Ae((function(t){const n=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(t+"");return n.isIdentity?Se:Ne(n.a,n.b,n.c,n.d,n.e,n.f)}),"px, ","px)","deg)"),qe=Ae((function(t){return null==t?Se:(Me||(Me=document.createElementNS("http://www.w3.org/2000/svg","g")),Me.setAttribute("transform",t),(t=Me.transform.baseVal.consolidate())?Ne((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):Se)}),", ",")",")");function Te(t){return((t=Math.exp(t))+1/t)/2}var je,Pe,Re=function t(n,e,i){function r(t,r){var o,a,s=t[0],l=t[1],u=t[2],c=r[0],f=r[1],h=r[2],p=c-s,d=f-l,v=p*p+d*d;if(v<1e-12)a=Math.log(h/u)/n,o=function(t){return[s+t*p,l+t*d,u*Math.exp(n*t*a)]};else{var g=Math.sqrt(v),m=(h*h-u*u+i*v)/(2*u*e*g),y=(h*h-u*u-i*v)/(2*h*e*g),_=Math.log(Math.sqrt(m*m+1)-m),w=Math.log(Math.sqrt(y*y+1)-y);a=(w-_)/n,o=function(t){var i=t*a,r=Te(_),o=u/(e*g)*(r*function(t){return((t=Math.exp(2*t))-1)/(t+1)}(n*i+_)-function(t){return((t=Math.exp(t))-1/t)/2}(_));return[s+o*p,l+o*d,u*r/Te(n*i+_)]}}return o.duration=1e3*a*n/Math.SQRT2,o}return r.rho=function(n){var e=Math.max(.001,+n),i=e*e;return t(e,i,i*i)},r}(Math.SQRT2,2,4),Ie=0,Le=0,De=0,Xe=0,Oe=0,Be=0,He="object"==typeof performance&&performance.now?performance:Date,Ve="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Ye(){return Oe||(Ve(Fe),Oe=He.now()+Be)}function Fe(){Oe=0}function Ge(){this._call=this._time=this._next=null}function Ue(t,n,e){var i=new Ge;return i.restart(t,n,e),i}function Je(){Oe=(Xe=He.now())+Be,Ie=Le=0;try{!function(){Ye(),++Ie;for(var t,n=je;n;)(t=Oe-n._time)>=0&&n._call.call(void 0,t),n=n._next;--Ie}()}finally{Ie=0,function(){var t,n,e=je,i=1/0;for(;e;)e._call?(i>e._time&&(i=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:je=n);Pe=t,We(i)}(),Oe=0}}function Ke(){var t=He.now(),n=t-Xe;n>1e3&&(Be-=n,Xe=t)}function We(t){Ie||(Le&&(Le=clearTimeout(Le)),t-Oe>24?(t<1/0&&(Le=setTimeout(Je,t-He.now()-Be)),De&&(De=clearInterval(De))):(De||(Xe=He.now(),De=setInterval(Ke,1e3)),Ie=1,Ve(Je)))}function Ze(t,n,e){var i=new Ge;return n=null==n?0:+n,i.restart((e=>{i.stop(),t(e+n)}),n,e),i}Ge.prototype=Ue.prototype={constructor:Ge,restart:function(t,n,e){if("function"!=typeof t)throw new TypeError("callback is not a function");e=(null==e?Ye():+e)+(null==n?0:+n),this._next||Pe===this||(Pe?Pe._next=this:je=this,Pe=this),this._call=t,this._time=e,We()},stop:function(){this._call&&(this._call=null,this._time=1/0,We())}};var Qe=mt("start","end","cancel","interrupt"),ti=[];function ni(t,n,e,i,r,o){var a=t.__transition;if(a){if(e in a)return}else t.__transition={};!function(t,n,e){var i,r=t.__transition;function o(t){e.state=1,e.timer.restart(a,e.delay,e.time),e.delay<=t&&a(t-e.delay)}function a(o){var u,c,f,h;if(1!==e.state)return l();for(u in r)if((h=r[u]).name===e.name){if(3===h.state)return Ze(a);4===h.state?(h.state=6,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete r[u]):+u<n&&(h.state=6,h.timer.stop(),h.on.call("cancel",t,t.__data__,h.index,h.group),delete r[u])}if(Ze((function(){3===e.state&&(e.state=4,e.timer.restart(s,e.delay,e.time),s(o))})),e.state=2,e.on.call("start",t,t.__data__,e.index,e.group),2===e.state){for(e.state=3,i=new Array(f=e.tween.length),u=0,c=-1;u<f;++u)(h=e.tween[u].value.call(t,t.__data__,e.index,e.group))&&(i[++c]=h);i.length=c+1}}function s(n){for(var r=n<e.duration?e.ease.call(null,n/e.duration):(e.timer.restart(l),e.state=5,1),o=-1,a=i.length;++o<a;)i[o].call(t,r);5===e.state&&(e.on.call("end",t,t.__data__,e.index,e.group),l())}function l(){for(var i in e.state=6,e.timer.stop(),delete r[n],r)return;delete t.__transition}r[n]=e,e.timer=Ue(o,0,e.time)}(t,e,{name:n,index:i,group:r,on:Qe,tween:ti,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:0})}function ei(t,n){var e=ri(t,n);if(e.state>0)throw new Error("too late; already scheduled");return e}function ii(t,n){var e=ri(t,n);if(e.state>3)throw new Error("too late; already running");return e}function ri(t,n){var e=t.__transition;if(!e||!(e=e[n]))throw new Error("transition not found");return e}function oi(t,n){var e,i,r,o=t.__transition,a=!0;if(o){for(r in n=null==n?null:n+"",o)(e=o[r]).name===n?(i=e.state>2&&e.state<5,e.state=6,e.timer.stop(),e.on.call(i?"interrupt":"cancel",t,t.__data__,e.index,e.group),delete o[r]):a=!1;a&&delete t.__transition}}function ai(t,n){var e,i;return function(){var r=ii(this,t),o=r.tween;if(o!==e)for(var a=0,s=(i=e=o).length;a<s;++a)if(i[a].name===n){(i=i.slice()).splice(a,1);break}r.tween=i}}function si(t,n,e){var i,r;if("function"!=typeof e)throw new Error;return function(){var o=ii(this,t),a=o.tween;if(a!==i){r=(i=a).slice();for(var s={name:n,value:e},l=0,u=r.length;l<u;++l)if(r[l].name===n){r[l]=s;break}l===u&&r.push(s)}o.tween=r}}function li(t,n,e){var i=t._id;return t.each((function(){var t=ii(this,i);(t.value||(t.value={}))[n]=e.apply(this,arguments)})),function(t){return ri(t,i).value[n]}}function ui(t,n){var e;return("number"==typeof n?be:n instanceof ee?xe:(e=ee(n))?(n=e,xe):Ee)(t,n)}function ci(t){return function(){this.removeAttribute(t)}}function fi(t){return function(){this.removeAttributeNS(t.space,t.local)}}function hi(t,n,e){var i,r,o=e+"";return function(){var a=this.getAttribute(t);return a===o?null:a===i?r:r=n(i=a,e)}}function pi(t,n,e){var i,r,o=e+"";return function(){var a=this.getAttributeNS(t.space,t.local);return a===o?null:a===i?r:r=n(i=a,e)}}function di(t,n,e){var i,r,o;return function(){var a,s,l=e(this);if(null!=l)return(a=this.getAttribute(t))===(s=l+"")?null:a===i&&s===r?o:(r=s,o=n(i=a,l));this.removeAttribute(t)}}function vi(t,n,e){var i,r,o;return function(){var a,s,l=e(this);if(null!=l)return(a=this.getAttributeNS(t.space,t.local))===(s=l+"")?null:a===i&&s===r?o:(r=s,o=n(i=a,l));this.removeAttributeNS(t.space,t.local)}}function gi(t,n){var e,i;function r(){var r=n.apply(this,arguments);return r!==i&&(e=(i=r)&&function(t,n){return function(e){this.setAttributeNS(t.space,t.local,n.call(this,e))}}(t,r)),e}return r._value=n,r}function mi(t,n){var e,i;function r(){var r=n.apply(this,arguments);return r!==i&&(e=(i=r)&&function(t,n){return function(e){this.setAttribute(t,n.call(this,e))}}(t,r)),e}return r._value=n,r}function yi(t,n){return function(){ei(this,t).delay=+n.apply(this,arguments)}}function _i(t,n){return n=+n,function(){ei(this,t).delay=n}}function wi(t,n){return function(){ii(this,t).duration=+n.apply(this,arguments)}}function xi(t,n){return n=+n,function(){ii(this,t).duration=n}}var bi=Tn.prototype.constructor;function $i(t){return function(){this.style.removeProperty(t)}}var ki=0;function Ei(t,n,e,i){this._groups=t,this._parents=n,this._name=e,this._id=i}function Mi(){return++ki}var zi=Tn.prototype;Ei.prototype={constructor:Ei,select:function(t){var n=this._name,e=this._id;"function"!=typeof t&&(t=St(t));for(var i=this._groups,r=i.length,o=new Array(r),a=0;a<r;++a)for(var s,l,u=i[a],c=u.length,f=o[a]=new Array(c),h=0;h<c;++h)(s=u[h])&&(l=t.call(s,s.__data__,h,u))&&("__data__"in s&&(l.__data__=s.__data__),f[h]=l,ni(f[h],n,e,h,f,ri(s,e)));return new Ei(o,this._parents,n,e)},selectAll:function(t){var n=this._name,e=this._id;"function"!=typeof t&&(t=At(t));for(var i=this._groups,r=i.length,o=[],a=[],s=0;s<r;++s)for(var l,u=i[s],c=u.length,f=0;f<c;++f)if(l=u[f]){for(var h,p=t.call(l,l.__data__,f,u),d=ri(l,e),v=0,g=p.length;v<g;++v)(h=p[v])&&ni(h,n,e,v,p,d);o.push(p),a.push(l)}return new Ei(o,a,n,e)},selectChild:zi.selectChild,selectChildren:zi.selectChildren,filter:function(t){"function"!=typeof t&&(t=qt(t));for(var n=this._groups,e=n.length,i=new Array(e),r=0;r<e;++r)for(var o,a=n[r],s=a.length,l=i[r]=[],u=0;u<s;++u)(o=a[u])&&t.call(o,o.__data__,u,a)&&l.push(o);return new Ei(i,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var n=this._groups,e=t._groups,i=n.length,r=e.length,o=Math.min(i,r),a=new Array(i),s=0;s<o;++s)for(var l,u=n[s],c=e[s],f=u.length,h=a[s]=new Array(f),p=0;p<f;++p)(l=u[p]||c[p])&&(h[p]=l);for(;s<i;++s)a[s]=n[s];return new Ei(a,this._parents,this._name,this._id)},selection:function(){return new bi(this._groups,this._parents)},transition:function(){for(var t=this._name,n=this._id,e=Mi(),i=this._groups,r=i.length,o=0;o<r;++o)for(var a,s=i[o],l=s.length,u=0;u<l;++u)if(a=s[u]){var c=ri(a,n);ni(a,t,e,u,s,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new Ei(i,this._parents,t,e)},call:zi.call,nodes:zi.nodes,node:zi.node,size:zi.size,empty:zi.empty,each:zi.each,on:function(t,n){var e=this._id;return arguments.length<2?ri(this.node(),e).on.on(t):this.each(function(t,n,e){var i,r,o=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||"start"===t}))}(n)?ei:ii;return function(){var a=o(this,t),s=a.on;s!==i&&(r=(i=s).copy()).on(n,e),a.on=r}}(e,t,n))},attr:function(t,n){var e=$t(t),i="transform"===e?qe:ui;return this.attrTween(t,"function"==typeof n?(e.local?vi:di)(e,i,li(this,"attr."+t,n)):null==n?(e.local?fi:ci)(e):(e.local?pi:hi)(e,i,n))},attrTween:function(t,n){var e="attr."+t;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(null==n)return this.tween(e,null);if("function"!=typeof n)throw new Error;var i=$t(t);return this.tween(e,(i.local?gi:mi)(i,n))},style:function(t,n,e){var i="transform"==(t+="")?Ce:ui;return null==n?this.styleTween(t,function(t,n){var e,i,r;return function(){var o=nn(this,t),a=(this.style.removeProperty(t),nn(this,t));return o===a?null:o===e&&a===i?r:r=n(e=o,i=a)}}(t,i)).on("end.style."+t,$i(t)):"function"==typeof n?this.styleTween(t,function(t,n,e){var i,r,o;return function(){var a=nn(this,t),s=e(this),l=s+"";return null==s&&(this.style.removeProperty(t),l=s=nn(this,t)),a===l?null:a===i&&l===r?o:(r=l,o=n(i=a,s))}}(t,i,li(this,"style."+t,n))).each(function(t,n){var e,i,r,o,a="style."+n,s="end."+a;return function(){var l=ii(this,t),u=l.on,c=null==l.value[a]?o||(o=$i(n)):void 0;u===e&&r===c||(i=(e=u).copy()).on(s,r=c),l.on=i}}(this._id,t)):this.styleTween(t,function(t,n,e){var i,r,o=e+"";return function(){var a=nn(this,t);return a===o?null:a===i?r:r=n(i=a,e)}}(t,i,n),e).on("end.style."+t,null)},styleTween:function(t,n,e){var i="style."+(t+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(null==n)return this.tween(i,null);if("function"!=typeof n)throw new Error;return this.tween(i,function(t,n,e){var i,r;function o(){var o=n.apply(this,arguments);return o!==r&&(i=(r=o)&&function(t,n,e){return function(i){this.style.setProperty(t,n.call(this,i),e)}}(t,o,e)),i}return o._value=n,o}(t,n,null==e?"":e))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var n=t(this);this.textContent=null==n?"":n}}(li(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var n="text";if(arguments.length<1)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!=typeof t)throw new Error;return this.tween(n,function(t){var n,e;function i(){var i=t.apply(this,arguments);return i!==e&&(n=(e=i)&&function(t){return function(n){this.textContent=t.call(this,n)}}(i)),n}return i._value=t,i}(t))},remove:function(){return this.on("end.remove",function(t){return function(){var n=this.parentNode;for(var e in this.__transition)if(+e!==t)return;n&&n.removeChild(this)}}(this._id))},tween:function(t,n){var e=this._id;if(t+="",arguments.length<2){for(var i,r=ri(this.node(),e).tween,o=0,a=r.length;o<a;++o)if((i=r[o]).name===t)return i.value;return null}return this.each((null==n?ai:si)(e,t,n))},delay:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?yi:_i)(n,t)):ri(this.node(),n).delay},duration:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?wi:xi)(n,t)):ri(this.node(),n).duration},ease:function(t){var n=this._id;return arguments.length?this.each(function(t,n){if("function"!=typeof n)throw new Error;return function(){ii(this,t).ease=n}}(n,t)):ri(this.node(),n).ease},easeVarying:function(t){if("function"!=typeof t)throw new Error;return this.each(function(t,n){return function(){var e=n.apply(this,arguments);if("function"!=typeof e)throw new Error;ii(this,t).ease=e}}(this._id,t))},end:function(){var t,n,e=this,i=e._id,r=e.size();return new Promise((function(o,a){var s={value:a},l={value:function(){0===--r&&o()}};e.each((function(){var e=ii(this,i),r=e.on;r!==t&&((n=(t=r).copy())._.cancel.push(s),n._.interrupt.push(s),n._.end.push(l)),e.on=n})),0===r&&o()}))},[Symbol.iterator]:zi[Symbol.iterator]};var Si={time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};function Ni(t,n){for(var e;!(e=t.__transition)||!(e=e[n]);)if(!(t=t.parentNode))throw new Error(`transition ${n} not found`);return e}Tn.prototype.interrupt=function(t){return this.each((function(){oi(this,t)}))},Tn.prototype.transition=function(t){var n,e;t instanceof Ei?(n=t._id,t=t._name):(n=Mi(),(e=Si).time=Ye(),t=null==t?null:t+"");for(var i=this._groups,r=i.length,o=0;o<r;++o)for(var a,s=i[o],l=s.length,u=0;u<l;++u)(a=s[u])&&ni(a,t,n,u,s,e||Ni(a,n));return new Ei(i,this._parents,t,n)};const Ai=Math.PI,Ci=2*Ai,qi=1e-6,Ti=Ci-qi;function ji(t){this._+=t[0];for(let n=1,e=t.length;n<e;++n)this._+=arguments[n]+t[n]}class Pi{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==t?ji:function(t){let n=Math.floor(t);if(!(n>=0))throw new Error(`invalid digits: ${t}`);if(n>15)return ji;const e=10**n;return function(t){this._+=t[0];for(let n=1,i=t.length;n<i;++n)this._+=Math.round(arguments[n]*e)/e+t[n]}}(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,e,i){this._append`Q${+t},${+n},${this._x1=+e},${this._y1=+i}`}bezierCurveTo(t,n,e,i,r,o){this._append`C${+t},${+n},${+e},${+i},${this._x1=+r},${this._y1=+o}`}arcTo(t,n,e,i,r){if(t=+t,n=+n,e=+e,i=+i,(r=+r)<0)throw new Error(`negative radius: ${r}`);let o=this._x1,a=this._y1,s=e-t,l=i-n,u=o-t,c=a-n,f=u*u+c*c;if(null===this._x1)this._append`M${this._x1=t},${this._y1=n}`;else if(f>qi)if(Math.abs(c*s-l*u)>qi&&r){let h=e-o,p=i-a,d=s*s+l*l,v=h*h+p*p,g=Math.sqrt(d),m=Math.sqrt(f),y=r*Math.tan((Ai-Math.acos((d+f-v)/(2*g*m)))/2),_=y/m,w=y/g;Math.abs(_-1)>qi&&this._append`L${t+_*u},${n+_*c}`,this._append`A${r},${r},0,0,${+(c*h>u*p)},${this._x1=t+w*s},${this._y1=n+w*l}`}else this._append`L${this._x1=t},${this._y1=n}`;else;}arc(t,n,e,i,r,o){if(t=+t,n=+n,o=!!o,(e=+e)<0)throw new Error(`negative radius: ${e}`);let a=e*Math.cos(i),s=e*Math.sin(i),l=t+a,u=n+s,c=1^o,f=o?i-r:r-i;null===this._x1?this._append`M${l},${u}`:(Math.abs(this._x1-l)>qi||Math.abs(this._y1-u)>qi)&&this._append`L${l},${u}`,e&&(f<0&&(f=f%Ci+Ci),f>Ti?this._append`A${e},${e},0,1,${c},${t-a},${n-s}A${e},${e},0,1,${c},${this._x1=l},${this._y1=u}`:f>qi&&this._append`A${e},${e},0,${+(f>=Ai)},${c},${this._x1=t+e*Math.cos(r)},${this._y1=n+e*Math.sin(r)}`)}rect(t,n,e,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${e=+e}v${+i}h${-e}Z`}toString(){return this._}}var Ri=1e-6,Ii=Math.PI,Li=Ii/2,Di=Ii/4,Xi=2*Ii,Oi=180/Ii,Bi=Ii/180,Hi=Math.abs,Vi=Math.atan,Yi=Math.atan2,Fi=Math.cos,Gi=Math.exp,Ui=Math.log,Ji=Math.sin,Ki=Math.sign||function(t){return t>0?1:t<0?-1:0},Wi=Math.sqrt,Zi=Math.tan;function Qi(t){return t>1?Li:t<-1?-Li:Math.asin(t)}function tr(){}function nr(t,n){t&&ir.hasOwnProperty(t.type)&&ir[t.type](t,n)}var er={Feature:function(t,n){nr(t.geometry,n)},FeatureCollection:function(t,n){for(var e=t.features,i=-1,r=e.length;++i<r;)nr(e[i].geometry,n)}},ir={Sphere:function(t,n){n.sphere()},Point:function(t,n){t=t.coordinates,n.point(t[0],t[1],t[2])},MultiPoint:function(t,n){for(var e=t.coordinates,i=-1,r=e.length;++i<r;)t=e[i],n.point(t[0],t[1],t[2])},LineString:function(t,n){rr(t.coordinates,n,0)},MultiLineString:function(t,n){for(var e=t.coordinates,i=-1,r=e.length;++i<r;)rr(e[i],n,0)},Polygon:function(t,n){or(t.coordinates,n)},MultiPolygon:function(t,n){for(var e=t.coordinates,i=-1,r=e.length;++i<r;)or(e[i],n)},GeometryCollection:function(t,n){for(var e=t.geometries,i=-1,r=e.length;++i<r;)nr(e[i],n)}};function rr(t,n,e){var i,r=-1,o=t.length-e;for(n.lineStart();++r<o;)i=t[r],n.point(i[0],i[1],i[2]);n.lineEnd()}function or(t,n){var e=-1,i=t.length;for(n.polygonStart();++e<i;)rr(t[e],n,1);n.polygonEnd()}function ar(t,n){t&&er.hasOwnProperty(t.type)?er[t.type](t,n):nr(t,n)}function sr(t){return[Yi(t[1],t[0]),Qi(t[2])]}function lr(t){var n=t[0],e=t[1],i=Fi(e);return[i*Fi(n),i*Ji(n),Ji(e)]}function ur(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]}function cr(t,n){return[t[1]*n[2]-t[2]*n[1],t[2]*n[0]-t[0]*n[2],t[0]*n[1]-t[1]*n[0]]}function fr(t,n){t[0]+=n[0],t[1]+=n[1],t[2]+=n[2]}function hr(t,n){return[t[0]*n,t[1]*n,t[2]*n]}function pr(t){var n=Wi(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=n,t[1]/=n,t[2]/=n}function dr(t,n){function e(e,i){return e=t(e,i),n(e[0],e[1])}return t.invert&&n.invert&&(e.invert=function(e,i){return(e=n.invert(e,i))&&t.invert(e[0],e[1])}),e}function vr(t,n){return Hi(t)>Ii&&(t-=Math.round(t/Xi)*Xi),[t,n]}function gr(t,n,e){return(t%=Xi)?n||e?dr(yr(t),_r(n,e)):yr(t):n||e?_r(n,e):vr}function mr(t){return function(n,e){return Hi(n+=t)>Ii&&(n-=Math.round(n/Xi)*Xi),[n,e]}}function yr(t){var n=mr(t);return n.invert=mr(-t),n}function _r(t,n){var e=Fi(t),i=Ji(t),r=Fi(n),o=Ji(n);function a(t,n){var a=Fi(n),s=Fi(t)*a,l=Ji(t)*a,u=Ji(n),c=u*e+s*i;return[Yi(l*r-c*o,s*e-u*i),Qi(c*r+l*o)]}return a.invert=function(t,n){var a=Fi(n),s=Fi(t)*a,l=Ji(t)*a,u=Ji(n),c=u*r-l*o;return[Yi(l*r+u*o,s*e+c*i),Qi(c*e-s*i)]},a}function wr(t,n){(n=lr(n))[0]-=t,pr(n);var e=function(t){return t>1?0:t<-1?Ii:Math.acos(t)}(-n[1]);return((-n[2]<0?-e:e)+Xi-Ri)%Xi}function xr(){var t,n=[];return{point:function(n,e,i){t.push([n,e,i])},lineStart:function(){n.push(t=[])},lineEnd:tr,rejoin:function(){n.length>1&&n.push(n.pop().concat(n.shift()))},result:function(){var e=n;return n=[],t=null,e}}}function br(t,n){return Hi(t[0]-n[0])<Ri&&Hi(t[1]-n[1])<Ri}function $r(t,n,e,i){this.x=t,this.z=n,this.o=e,this.e=i,this.v=!1,this.n=this.p=null}function kr(t,n,e,i,r){var o,a,s=[],l=[];if(t.forEach((function(t){if(!((n=t.length-1)<=0)){var n,e,i=t[0],a=t[n];if(br(i,a)){if(!i[2]&&!a[2]){for(r.lineStart(),o=0;o<n;++o)r.point((i=t[o])[0],i[1]);return void r.lineEnd()}a[0]+=2e-6}s.push(e=new $r(i,t,null,!0)),l.push(e.o=new $r(i,null,e,!1)),s.push(e=new $r(a,t,null,!1)),l.push(e.o=new $r(a,null,e,!0))}})),s.length){for(l.sort(n),Er(s),Er(l),o=0,a=l.length;o<a;++o)l[o].e=e=!e;for(var u,c,f=s[0];;){for(var h=f,p=!0;h.v;)if((h=h.n)===f)return;u=h.z,r.lineStart();do{if(h.v=h.o.v=!0,h.e){if(p)for(o=0,a=u.length;o<a;++o)r.point((c=u[o])[0],c[1]);else i(h.x,h.n.x,1,r);h=h.n}else{if(p)for(u=h.p.z,o=u.length-1;o>=0;--o)r.point((c=u[o])[0],c[1]);else i(h.x,h.p.x,-1,r);h=h.p}u=(h=h.o).z,p=!p}while(!h.v);r.lineEnd()}}}function Er(t){if(n=t.length){for(var n,e,i=0,r=t[0];++i<n;)r.n=e=t[i],e.p=r,r=e;r.n=e=t[0],e.p=r}}function Mr(t){return Hi(t[0])<=Ii?t[0]:Ki(t[0])*((Hi(t[0])+Ii)%Xi-Ii)}function zr(t,n,e,i){return function(r){var o,a,s,l=n(r),u=xr(),c=n(u),f=!1,h={point:p,lineStart:v,lineEnd:g,polygonStart:function(){h.point=m,h.lineStart=y,h.lineEnd=_,a=[],o=[]},polygonEnd:function(){h.point=p,h.lineStart=v,h.lineEnd=g,a=vt(a);var t=function(t,n){var e=Mr(n),i=n[1],r=Ji(i),o=[Ji(e),-Fi(e),0],a=0,s=0,l=new dt;1===r?i=Li+Ri:-1===r&&(i=-Li-Ri);for(var u=0,c=t.length;u<c;++u)if(h=(f=t[u]).length)for(var f,h,p=f[h-1],d=Mr(p),v=p[1]/2+Di,g=Ji(v),m=Fi(v),y=0;y<h;++y,d=w,g=b,m=$,p=_){var _=f[y],w=Mr(_),x=_[1]/2+Di,b=Ji(x),$=Fi(x),k=w-d,E=k>=0?1:-1,M=E*k,z=M>Ii,S=g*b;if(l.add(Yi(S*E*Ji(M),m*$+S*Fi(M))),a+=z?k+E*Xi:k,z^d>=e^w>=e){var N=cr(lr(p),lr(_));pr(N);var A=cr(o,N);pr(A);var C=(z^k>=0?-1:1)*Qi(A[2]);(i>C||i===C&&(N[0]||N[1]))&&(s+=z^k>=0?1:-1)}}return(a<-Ri||a<Ri&&l<-1e-12)^1&s}(o,i);a.length?(f||(r.polygonStart(),f=!0),kr(a,Nr,t,e,r)):t&&(f||(r.polygonStart(),f=!0),r.lineStart(),e(null,null,1,r),r.lineEnd()),f&&(r.polygonEnd(),f=!1),a=o=null},sphere:function(){r.polygonStart(),r.lineStart(),e(null,null,1,r),r.lineEnd(),r.polygonEnd()}};function p(n,e){t(n,e)&&r.point(n,e)}function d(t,n){l.point(t,n)}function v(){h.point=d,l.lineStart()}function g(){h.point=p,l.lineEnd()}function m(t,n){s.push([t,n]),c.point(t,n)}function y(){c.lineStart(),s=[]}function _(){m(s[0][0],s[0][1]),c.lineEnd();var t,n,e,i,l=c.clean(),h=u.result(),p=h.length;if(s.pop(),o.push(s),s=null,p)if(1&l){if((n=(e=h[0]).length-1)>0){for(f||(r.polygonStart(),f=!0),r.lineStart(),t=0;t<n;++t)r.point((i=e[t])[0],i[1]);r.lineEnd()}}else p>1&&2&l&&h.push(h.pop().concat(h.shift())),a.push(h.filter(Sr))}return h}}function Sr(t){return t.length>1}function Nr(t,n){return((t=t.x)[0]<0?t[1]-Li-Ri:Li-t[1])-((n=n.x)[0]<0?n[1]-Li-Ri:Li-n[1])}vr.invert=vr;var Ar=zr((function(){return!0}),(function(t){var n,e=NaN,i=NaN,r=NaN;return{lineStart:function(){t.lineStart(),n=1},point:function(o,a){var s=o>0?Ii:-Ii,l=Hi(o-e);Hi(l-Ii)<Ri?(t.point(e,i=(i+a)/2>0?Li:-Li),t.point(r,i),t.lineEnd(),t.lineStart(),t.point(s,i),t.point(o,i),n=0):r!==s&&l>=Ii&&(Hi(e-r)<Ri&&(e-=r*Ri),Hi(o-s)<Ri&&(o-=s*Ri),i=function(t,n,e,i){var r,o,a=Ji(t-e);return Hi(a)>Ri?Vi((Ji(n)*(o=Fi(i))*Ji(e)-Ji(i)*(r=Fi(n))*Ji(t))/(r*o*a)):(n+i)/2}(e,i,o,a),t.point(r,i),t.lineEnd(),t.lineStart(),t.point(s,i),n=0),t.point(e=o,i=a),r=s},lineEnd:function(){t.lineEnd(),e=i=NaN},clean:function(){return 2-n}}}),(function(t,n,e,i){var r;if(null==t)r=e*Li,i.point(-Ii,r),i.point(0,r),i.point(Ii,r),i.point(Ii,0),i.point(Ii,-r),i.point(0,-r),i.point(-Ii,-r),i.point(-Ii,0),i.point(-Ii,r);else if(Hi(t[0]-n[0])>Ri){var o=t[0]<n[0]?Ii:-Ii;r=e*o/2,i.point(-o,r),i.point(0,r),i.point(o,r)}else i.point(n[0],n[1])}),[-Ii,-Li]);function Cr(t){var n=Fi(t),e=2*Bi,i=n>0,r=Hi(n)>Ri;function o(t,e){return Fi(t)*Fi(e)>n}function a(t,e,i){var r=[1,0,0],o=cr(lr(t),lr(e)),a=ur(o,o),s=o[0],l=a-s*s;if(!l)return!i&&t;var u=n*a/l,c=-n*s/l,f=cr(r,o),h=hr(r,u);fr(h,hr(o,c));var p=f,d=ur(h,p),v=ur(p,p),g=d*d-v*(ur(h,h)-1);if(!(g<0)){var m=Wi(g),y=hr(p,(-d-m)/v);if(fr(y,h),y=sr(y),!i)return y;var _,w=t[0],x=e[0],b=t[1],$=e[1];x<w&&(_=w,w=x,x=_);var k=x-w,E=Hi(k-Ii)<Ri;if(!E&&$<b&&(_=b,b=$,$=_),E||k<Ri?E?b+$>0^y[1]<(Hi(y[0]-w)<Ri?b:$):b<=y[1]&&y[1]<=$:k>Ii^(w<=y[0]&&y[0]<=x)){var M=hr(p,(-d+m)/v);return fr(M,h),[y,sr(M)]}}}function s(n,e){var r=i?t:Ii-t,o=0;return n<-r?o|=1:n>r&&(o|=2),e<-r?o|=4:e>r&&(o|=8),o}return zr(o,(function(t){var n,e,l,u,c;return{lineStart:function(){u=l=!1,c=1},point:function(f,h){var p,d=[f,h],v=o(f,h),g=i?v?0:s(f,h):v?s(f+(f<0?Ii:-Ii),h):0;if(!n&&(u=l=v)&&t.lineStart(),v!==l&&(!(p=a(n,d))||br(n,p)||br(d,p))&&(d[2]=1),v!==l)c=0,v?(t.lineStart(),p=a(d,n),t.point(p[0],p[1])):(p=a(n,d),t.point(p[0],p[1],2),t.lineEnd()),n=p;else if(r&&n&&i^v){var m;g&e||!(m=a(d,n,!0))||(c=0,i?(t.lineStart(),t.point(m[0][0],m[0][1]),t.point(m[1][0],m[1][1]),t.lineEnd()):(t.point(m[1][0],m[1][1]),t.lineEnd(),t.lineStart(),t.point(m[0][0],m[0][1],3)))}!v||n&&br(n,d)||t.point(d[0],d[1]),n=d,l=v,e=g},lineEnd:function(){l&&t.lineEnd(),n=null},clean:function(){return c|(u&&l)<<1}}}),(function(n,i,r,o){!function(t,n,e,i,r,o){if(e){var a=Fi(n),s=Ji(n),l=i*e;null==r?(r=n+i*Xi,o=n-l/2):(r=wr(a,r),o=wr(a,o),(i>0?r<o:r>o)&&(r+=i*Xi));for(var u,c=r;i>0?c>o:c<o;c-=l)u=sr([a,-s*Fi(c),-s*Ji(c)]),t.point(u[0],u[1])}}(o,t,e,r,n,i)}),i?[0,-t]:[-Ii,t-Ii])}var qr=1e9,Tr=-qr;function jr(t,n,e,i){function r(r,o){return t<=r&&r<=e&&n<=o&&o<=i}function o(r,o,s,u){var c=0,f=0;if(null==r||(c=a(r,s))!==(f=a(o,s))||l(r,o)<0^s>0)do{u.point(0===c||3===c?t:e,c>1?i:n)}while((c=(c+s+4)%4)!==f);else u.point(o[0],o[1])}function a(i,r){return Hi(i[0]-t)<Ri?r>0?0:3:Hi(i[0]-e)<Ri?r>0?2:1:Hi(i[1]-n)<Ri?r>0?1:0:r>0?3:2}function s(t,n){return l(t.x,n.x)}function l(t,n){var e=a(t,1),i=a(n,1);return e!==i?e-i:0===e?n[1]-t[1]:1===e?t[0]-n[0]:2===e?t[1]-n[1]:n[0]-t[0]}return function(a){var l,u,c,f,h,p,d,v,g,m,y,_=a,w=xr(),x={point:b,lineStart:function(){x.point=$,u&&u.push(c=[]);m=!0,g=!1,d=v=NaN},lineEnd:function(){l&&($(f,h),p&&g&&w.rejoin(),l.push(w.result()));x.point=b,g&&_.lineEnd()},polygonStart:function(){_=w,l=[],u=[],y=!0},polygonEnd:function(){var n=function(){for(var n=0,e=0,r=u.length;e<r;++e)for(var o,a,s=u[e],l=1,c=s.length,f=s[0],h=f[0],p=f[1];l<c;++l)o=h,a=p,h=(f=s[l])[0],p=f[1],a<=i?p>i&&(h-o)*(i-a)>(p-a)*(t-o)&&++n:p<=i&&(h-o)*(i-a)<(p-a)*(t-o)&&--n;return n}(),e=y&&n,r=(l=vt(l)).length;(e||r)&&(a.polygonStart(),e&&(a.lineStart(),o(null,null,1,a),a.lineEnd()),r&&kr(l,s,n,o,a),a.polygonEnd());_=a,l=u=c=null}};function b(t,n){r(t,n)&&_.point(t,n)}function $(o,a){var s=r(o,a);if(u&&c.push([o,a]),m)f=o,h=a,p=s,m=!1,s&&(_.lineStart(),_.point(o,a));else if(s&&g)_.point(o,a);else{var l=[d=Math.max(Tr,Math.min(qr,d)),v=Math.max(Tr,Math.min(qr,v))],w=[o=Math.max(Tr,Math.min(qr,o)),a=Math.max(Tr,Math.min(qr,a))];!function(t,n,e,i,r,o){var a,s=t[0],l=t[1],u=0,c=1,f=n[0]-s,h=n[1]-l;if(a=e-s,f||!(a>0)){if(a/=f,f<0){if(a<u)return;a<c&&(c=a)}else if(f>0){if(a>c)return;a>u&&(u=a)}if(a=r-s,f||!(a<0)){if(a/=f,f<0){if(a>c)return;a>u&&(u=a)}else if(f>0){if(a<u)return;a<c&&(c=a)}if(a=i-l,h||!(a>0)){if(a/=h,h<0){if(a<u)return;a<c&&(c=a)}else if(h>0){if(a>c)return;a>u&&(u=a)}if(a=o-l,h||!(a<0)){if(a/=h,h<0){if(a>c)return;a>u&&(u=a)}else if(h>0){if(a<u)return;a<c&&(c=a)}return u>0&&(t[0]=s+u*f,t[1]=l+u*h),c<1&&(n[0]=s+c*f,n[1]=l+c*h),!0}}}}}(l,w,t,n,e,i)?s&&(_.lineStart(),_.point(o,a),y=!1):(g||(_.lineStart(),_.point(l[0],l[1])),_.point(w[0],w[1]),s||_.lineEnd(),y=!1)}d=o,v=a,g=s}return x}}var Pr,Rr,Ir,Lr,Dr=t=>t,Xr=new dt,Or=new dt,Br={point:tr,lineStart:tr,lineEnd:tr,polygonStart:function(){Br.lineStart=Hr,Br.lineEnd=Fr},polygonEnd:function(){Br.lineStart=Br.lineEnd=Br.point=tr,Xr.add(Hi(Or)),Or=new dt},result:function(){var t=Xr/2;return Xr=new dt,t}};function Hr(){Br.point=Vr}function Vr(t,n){Br.point=Yr,Pr=Ir=t,Rr=Lr=n}function Yr(t,n){Or.add(Lr*t-Ir*n),Ir=t,Lr=n}function Fr(){Yr(Pr,Rr)}var Gr=Br,Ur=1/0,Jr=Ur,Kr=-Ur,Wr=Kr,Zr={point:function(t,n){t<Ur&&(Ur=t);t>Kr&&(Kr=t);n<Jr&&(Jr=n);n>Wr&&(Wr=n)},lineStart:tr,lineEnd:tr,polygonStart:tr,polygonEnd:tr,result:function(){var t=[[Ur,Jr],[Kr,Wr]];return Kr=Wr=-(Jr=Ur=1/0),t}};var Qr,to,no,eo,io=Zr,ro=0,oo=0,ao=0,so=0,lo=0,uo=0,co=0,fo=0,ho=0,po={point:vo,lineStart:go,lineEnd:_o,polygonStart:function(){po.lineStart=wo,po.lineEnd=xo},polygonEnd:function(){po.point=vo,po.lineStart=go,po.lineEnd=_o},result:function(){var t=ho?[co/ho,fo/ho]:uo?[so/uo,lo/uo]:ao?[ro/ao,oo/ao]:[NaN,NaN];return ro=oo=ao=so=lo=uo=co=fo=ho=0,t}};function vo(t,n){ro+=t,oo+=n,++ao}function go(){po.point=mo}function mo(t,n){po.point=yo,vo(no=t,eo=n)}function yo(t,n){var e=t-no,i=n-eo,r=Wi(e*e+i*i);so+=r*(no+t)/2,lo+=r*(eo+n)/2,uo+=r,vo(no=t,eo=n)}function _o(){po.point=vo}function wo(){po.point=bo}function xo(){$o(Qr,to)}function bo(t,n){po.point=$o,vo(Qr=no=t,to=eo=n)}function $o(t,n){var e=t-no,i=n-eo,r=Wi(e*e+i*i);so+=r*(no+t)/2,lo+=r*(eo+n)/2,uo+=r,co+=(r=eo*t-no*n)*(no+t),fo+=r*(eo+n),ho+=3*r,vo(no=t,eo=n)}var ko=po;function Eo(t){this._context=t}Eo.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,n){switch(this._point){case 0:this._context.moveTo(t,n),this._point=1;break;case 1:this._context.lineTo(t,n);break;default:this._context.moveTo(t+this._radius,n),this._context.arc(t,n,this._radius,0,Xi)}},result:tr};var Mo,zo,So,No,Ao,Co=new dt,qo={point:tr,lineStart:function(){qo.point=To},lineEnd:function(){Mo&&jo(zo,So),qo.point=tr},polygonStart:function(){Mo=!0},polygonEnd:function(){Mo=null},result:function(){var t=+Co;return Co=new dt,t}};function To(t,n){qo.point=jo,zo=No=t,So=Ao=n}function jo(t,n){No-=t,Ao-=n,Co.add(Wi(No*No+Ao*Ao)),No=t,Ao=n}var Po=qo;let Ro,Io,Lo,Do;class Xo{constructor(t){this._append=null==t?Oo:function(t){const n=Math.floor(t);if(!(n>=0))throw new RangeError(`invalid digits: ${t}`);if(n>15)return Oo;if(n!==Ro){const t=10**n;Ro=n,Io=function(n){let e=1;this._+=n[0];for(const i=n.length;e<i;++e)this._+=Math.round(arguments[e]*t)/t+n[e]}}return Io}(t),this._radius=4.5,this._=""}pointRadius(t){return this._radius=+t,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){0===this._line&&(this._+="Z"),this._point=NaN}point(t,n){switch(this._point){case 0:this._append`M${t},${n}`,this._point=1;break;case 1:this._append`L${t},${n}`;break;default:if(this._append`M${t},${n}`,this._radius!==Lo||this._append!==Io){const t=this._radius,n=this._;this._="",this._append`m0,${t}a${t},${t} 0 1,1 0,${-2*t}a${t},${t} 0 1,1 0,${2*t}z`,Lo=t,Io=this._append,Do=this._,this._=n}this._+=Do}}result(){const t=this._;return this._="",t.length?t:null}}function Oo(t){let n=1;this._+=t[0];for(const e=t.length;n<e;++n)this._+=arguments[n]+t[n]}function Bo(t){return function(n){var e=new Ho;for(var i in t)e[i]=t[i];return e.stream=n,e}}function Ho(){}function Vo(t,n,e){var i=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),null!=i&&t.clipExtent(null),ar(e,t.stream(io)),n(io.result()),null!=i&&t.clipExtent(i),t}function Yo(t,n,e){return Vo(t,(function(e){var i=n[1][0]-n[0][0],r=n[1][1]-n[0][1],o=Math.min(i/(e[1][0]-e[0][0]),r/(e[1][1]-e[0][1])),a=+n[0][0]+(i-o*(e[1][0]+e[0][0]))/2,s=+n[0][1]+(r-o*(e[1][1]+e[0][1]))/2;t.scale(150*o).translate([a,s])}),e)}Ho.prototype={constructor:Ho,point:function(t,n){this.stream.point(t,n)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var Fo=Fi(30*Bi);function Go(t,n){return+n?function(t,n){function e(i,r,o,a,s,l,u,c,f,h,p,d,v,g){var m=u-i,y=c-r,_=m*m+y*y;if(_>4*n&&v--){var w=a+h,x=s+p,b=l+d,$=Wi(w*w+x*x+b*b),k=Qi(b/=$),E=Hi(Hi(b)-1)<Ri||Hi(o-f)<Ri?(o+f)/2:Yi(x,w),M=t(E,k),z=M[0],S=M[1],N=z-i,A=S-r,C=y*N-m*A;(C*C/_>n||Hi((m*N+y*A)/_-.5)>.3||a*h+s*p+l*d<Fo)&&(e(i,r,o,a,s,l,z,S,E,w/=$,x/=$,b,v,g),g.point(z,S),e(z,S,E,w,x,b,u,c,f,h,p,d,v,g))}}return function(n){var i,r,o,a,s,l,u,c,f,h,p,d,v={point:g,lineStart:m,lineEnd:_,polygonStart:function(){n.polygonStart(),v.lineStart=w},polygonEnd:function(){n.polygonEnd(),v.lineStart=m}};function g(e,i){e=t(e,i),n.point(e[0],e[1])}function m(){c=NaN,v.point=y,n.lineStart()}function y(i,r){var o=lr([i,r]),a=t(i,r);e(c,f,u,h,p,d,c=a[0],f=a[1],u=i,h=o[0],p=o[1],d=o[2],16,n),n.point(c,f)}function _(){v.point=g,n.lineEnd()}function w(){m(),v.point=x,v.lineEnd=b}function x(t,n){y(i=t,n),r=c,o=f,a=h,s=p,l=d,v.point=y}function b(){e(c,f,u,h,p,d,r,o,i,a,s,l,16,n),v.lineEnd=_,_()}return v}}(t,n):function(t){return Bo({point:function(n,e){n=t(n,e),this.stream.point(n[0],n[1])}})}(t)}var Uo=Bo({point:function(t,n){this.stream.point(t*Bi,n*Bi)}});function Jo(t,n,e,i,r,o){if(!o)return function(t,n,e,i,r){function o(o,a){return[n+t*(o*=i),e-t*(a*=r)]}return o.invert=function(o,a){return[(o-n)/t*i,(e-a)/t*r]},o}(t,n,e,i,r);var a=Fi(o),s=Ji(o),l=a*t,u=s*t,c=a/t,f=s/t,h=(s*e-a*n)/t,p=(s*n+a*e)/t;function d(t,o){return[l*(t*=i)-u*(o*=r)+n,e-u*t-l*o]}return d.invert=function(t,n){return[i*(c*t-f*n+h),r*(p-f*t-c*n)]},d}function Ko(t){return function(t){var n,e,i,r,o,a,s,l,u,c,f=150,h=480,p=250,d=0,v=0,g=0,m=0,y=0,_=0,w=1,x=1,b=null,$=Ar,k=null,E=Dr,M=.5;function z(t){return l(t[0]*Bi,t[1]*Bi)}function S(t){return(t=l.invert(t[0],t[1]))&&[t[0]*Oi,t[1]*Oi]}function N(){var t=Jo(f,0,0,w,x,_).apply(null,n(d,v)),i=Jo(f,h-t[0],p-t[1],w,x,_);return e=gr(g,m,y),s=dr(n,i),l=dr(e,s),a=Go(s,M),A()}function A(){return u=c=null,z}return z.stream=function(t){return u&&c===t?u:u=Uo(function(t){return Bo({point:function(n,e){var i=t(n,e);return this.stream.point(i[0],i[1])}})}(e)($(a(E(c=t)))))},z.preclip=function(t){return arguments.length?($=t,b=void 0,A()):$},z.postclip=function(t){return arguments.length?(E=t,k=i=r=o=null,A()):E},z.clipAngle=function(t){return arguments.length?($=+t?Cr(b=t*Bi):(b=null,Ar),A()):b*Oi},z.clipExtent=function(t){return arguments.length?(E=null==t?(k=i=r=o=null,Dr):jr(k=+t[0][0],i=+t[0][1],r=+t[1][0],o=+t[1][1]),A()):null==k?null:[[k,i],[r,o]]},z.scale=function(t){return arguments.length?(f=+t,N()):f},z.translate=function(t){return arguments.length?(h=+t[0],p=+t[1],N()):[h,p]},z.center=function(t){return arguments.length?(d=t[0]%360*Bi,v=t[1]%360*Bi,N()):[d*Oi,v*Oi]},z.rotate=function(t){return arguments.length?(g=t[0]%360*Bi,m=t[1]%360*Bi,y=t.length>2?t[2]%360*Bi:0,N()):[g*Oi,m*Oi,y*Oi]},z.angle=function(t){return arguments.length?(_=t%360*Bi,N()):_*Oi},z.reflectX=function(t){return arguments.length?(w=t?-1:1,N()):w<0},z.reflectY=function(t){return arguments.length?(x=t?-1:1,N()):x<0},z.precision=function(t){return arguments.length?(a=Go(s,M=t*t),A()):Wi(M)},z.fitExtent=function(t,n){return Yo(z,t,n)},z.fitSize=function(t,n){return function(t,n,e){return Yo(t,[[0,0],n],e)}(z,t,n)},z.fitWidth=function(t,n){return function(t,n,e){return Vo(t,(function(e){var i=+n,r=i/(e[1][0]-e[0][0]),o=(i-r*(e[1][0]+e[0][0]))/2,a=-r*e[0][1];t.scale(150*r).translate([o,a])}),e)}(z,t,n)},z.fitHeight=function(t,n){return function(t,n,e){return Vo(t,(function(e){var i=+n,r=i/(e[1][1]-e[0][1]),o=-r*e[0][0],a=(i-r*(e[1][1]+e[0][1]))/2;t.scale(150*r).translate([o,a])}),e)}(z,t,n)},function(){return n=t.apply(this,arguments),z.invert=n.invert&&S,N()}}((function(){return t}))()}function Wo(t,n){return[t,Ui(Zi((Li+n)/2))]}function Zo(){return function(t){var n,e,i,r=Ko(t),o=r.center,a=r.scale,s=r.translate,l=r.clipExtent,u=null;function c(){var o=Ii*a(),s=r(function(t){function n(n){return(n=t(n[0]*Bi,n[1]*Bi))[0]*=Oi,n[1]*=Oi,n}return t=gr(t[0]*Bi,t[1]*Bi,t.length>2?t[2]*Bi:0),n.invert=function(n){return(n=t.invert(n[0]*Bi,n[1]*Bi))[0]*=Oi,n[1]*=Oi,n},n}(r.rotate()).invert([0,0]));return l(null==u?[[s[0]-o,s[1]-o],[s[0]+o,s[1]+o]]:t===Wo?[[Math.max(s[0]-o,u),n],[Math.min(s[0]+o,e),i]]:[[u,Math.max(s[1]-o,n)],[e,Math.min(s[1]+o,i)]])}return r.scale=function(t){return arguments.length?(a(t),c()):a()},r.translate=function(t){return arguments.length?(s(t),c()):s()},r.center=function(t){return arguments.length?(o(t),c()):o()},r.clipExtent=function(t){return arguments.length?(null==t?u=n=e=i=null:(u=+t[0][0],n=+t[0][1],e=+t[1][0],i=+t[1][1]),c()):null==u?null:[[u,n],[e,i]]},c()}(Wo).scale(961/Xi)}function Qo(t){return function(){return t}}function ta(t){this._context=t}function na(t){return new ta(t)}function ea(t){return t[0]}function ia(t){return t[1]}function ra(t,n){var e=Qo(!0),i=null,r=na,o=null,a=function(t){let n=3;return t.digits=function(e){if(!arguments.length)return n;if(null==e)n=null;else{const t=Math.floor(e);if(!(t>=0))throw new RangeError(`invalid digits: ${e}`);n=t}return t},()=>new Pi(n)}(s);function s(s){var l,u,c,f=(s=function(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}(s)).length,h=!1;for(null==i&&(o=r(c=a())),l=0;l<=f;++l)!(l<f&&e(u=s[l],l,s))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+t(u,l,s),+n(u,l,s));if(c)return o=null,c+""||null}return t="function"==typeof t?t:void 0===t?ea:Qo(t),n="function"==typeof n?n:void 0===n?ia:Qo(n),s.x=function(n){return arguments.length?(t="function"==typeof n?n:Qo(+n),s):t},s.y=function(t){return arguments.length?(n="function"==typeof t?t:Qo(+t),s):n},s.defined=function(t){return arguments.length?(e="function"==typeof t?t:Qo(!!t),s):e},s.curve=function(t){return arguments.length?(r=t,null!=i&&(o=r(i)),s):r},s.context=function(t){return arguments.length?(null==t?i=o=null:o=r(i=t),s):i},s}function oa(t,n,e){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-n),t._y2+t._k*(t._y1-e),t._x2,t._y2)}function aa(t,n){this._context=t,this._k=(1-n)/6}Wo.invert=function(t,n){return[t,2*Vi(Gi(n))-Li]},ta.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:this._context.lineTo(t,n)}}},aa.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:oa(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2,this._x1=t,this._y1=n;break;case 2:this._point=3;default:oa(this,t,n)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var sa=function t(n){function e(t){return new aa(t,n)}return e.tension=function(n){return t(+n)},e}(0),la=t=>()=>t;function ua(t,{sourceEvent:n,target:e,transform:i,dispatch:r}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},target:{value:e,enumerable:!0,configurable:!0},transform:{value:i,enumerable:!0,configurable:!0},_:{value:r}})}function ca(t,n,e){this.k=t,this.x=n,this.y=e}ca.prototype={constructor:ca,scale:function(t){return 1===t?this:new ca(this.k*t,this.x,this.y)},translate:function(t,n){return 0===t&0===n?this:new ca(this.k,this.x+this.k*t,this.y+this.k*n)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var fa=new ca(1,0,0);function ha(t){t.stopImmediatePropagation()}function pa(t){t.preventDefault(),t.stopImmediatePropagation()}function da(t){return!(t.ctrlKey&&"wheel"!==t.type||t.button)}function va(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t).hasAttribute("viewBox")?[[(t=t.viewBox.baseVal).x,t.y],[t.x+t.width,t.y+t.height]]:[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]:[[0,0],[t.clientWidth,t.clientHeight]]}function ga(){return this.__zoom||fa}function ma(t){return-t.deltaY*(1===t.deltaMode?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function ya(){return navigator.maxTouchPoints||"ontouchstart"in this}function _a(t,n,e){var i=t.invertX(n[0][0])-e[0][0],r=t.invertX(n[1][0])-e[1][0],o=t.invertY(n[0][1])-e[0][1],a=t.invertY(n[1][1])-e[1][1];return t.translate(r>i?(i+r)/2:Math.min(0,i)||Math.max(0,r),a>o?(o+a)/2:Math.min(0,o)||Math.max(0,a))}function wa(){var t,n,e,i=da,r=va,o=_a,a=ma,s=ya,l=[0,1/0],u=[[-1/0,-1/0],[1/0,1/0]],c=250,f=Re,h=mt("start","zoom","end"),p=0,d=10;function v(t){t.property("__zoom",ga).on("wheel.zoom",b,{passive:!1}).on("mousedown.zoom",$).on("dblclick.zoom",k).filter(s).on("touchstart.zoom",E).on("touchmove.zoom",M).on("touchend.zoom touchcancel.zoom",z).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function g(t,n){return(n=Math.max(l[0],Math.min(l[1],n)))===t.k?t:new ca(n,t.x,t.y)}function m(t,n,e){var i=n[0]-e[0]*t.k,r=n[1]-e[1]*t.k;return i===t.x&&r===t.y?t:new ca(t.k,i,r)}function y(t){return[(+t[0][0]+ +t[1][0])/2,(+t[0][1]+ +t[1][1])/2]}function _(t,n,e,i){t.on("start.zoom",(function(){w(this,arguments).event(i).start()})).on("interrupt.zoom end.zoom",(function(){w(this,arguments).event(i).end()})).tween("zoom",(function(){var t=this,o=arguments,a=w(t,o).event(i),s=r.apply(t,o),l=null==e?y(s):"function"==typeof e?e.apply(t,o):e,u=Math.max(s[1][0]-s[0][0],s[1][1]-s[0][1]),c=t.__zoom,h="function"==typeof n?n.apply(t,o):n,p=f(c.invert(l).concat(u/c.k),h.invert(l).concat(u/h.k));return function(t){if(1===t)t=h;else{var n=p(t),e=u/n[2];t=new ca(e,l[0]-n[0]*e,l[1]-n[1]*e)}a.zoom(null,t)}}))}function w(t,n,e){return!e&&t.__zooming||new x(t,n)}function x(t,n){this.that=t,this.args=n,this.active=0,this.sourceEvent=null,this.extent=r.apply(t,n),this.taps=0}function b(t,...n){if(i.apply(this,arguments)){var e=w(this,n).event(t),r=this.__zoom,s=Math.max(l[0],Math.min(l[1],r.k*Math.pow(2,a.apply(this,arguments)))),c=Pn(t);if(e.wheel)e.mouse[0][0]===c[0]&&e.mouse[0][1]===c[1]||(e.mouse[1]=r.invert(e.mouse[0]=c)),clearTimeout(e.wheel);else{if(r.k===s)return;e.mouse=[c,r.invert(c)],oi(this),e.start()}pa(t),e.wheel=setTimeout((function(){e.wheel=null,e.end()}),150),e.zoom("mouse",o(m(g(r,s),e.mouse[0],e.mouse[1]),e.extent,u))}}function $(t,...n){if(!e&&i.apply(this,arguments)){var r=t.currentTarget,a=w(this,n,!0).event(t),s=jn(t.view).on("mousemove.zoom",(function(t){if(pa(t),!a.moved){var n=t.clientX-c,e=t.clientY-f;a.moved=n*n+e*e>p}a.event(t).zoom("mouse",o(m(a.that.__zoom,a.mouse[0]=Pn(t,r),a.mouse[1]),a.extent,u))}),!0).on("mouseup.zoom",(function(t){s.on("mousemove.zoom mouseup.zoom",null),function(t,n){var e=t.document.documentElement,i=jn(t).on("dragstart.drag",null);n&&(i.on("click.drag",In,Rn),setTimeout((function(){i.on("click.drag",null)}),0)),"onselectstart"in e?i.on("selectstart.drag",null):(e.style.MozUserSelect=e.__noselect,delete e.__noselect)}(t.view,a.moved),pa(t),a.event(t).end()}),!0),l=Pn(t,r),c=t.clientX,f=t.clientY;!function(t){var n=t.document.documentElement,e=jn(t).on("dragstart.drag",In,Rn);"onselectstart"in n?e.on("selectstart.drag",In,Rn):(n.__noselect=n.style.MozUserSelect,n.style.MozUserSelect="none")}(t.view),ha(t),a.mouse=[l,this.__zoom.invert(l)],oi(this),a.start()}}function k(t,...n){if(i.apply(this,arguments)){var e=this.__zoom,a=Pn(t.changedTouches?t.changedTouches[0]:t,this),s=e.invert(a),l=e.k*(t.shiftKey?.5:2),f=o(m(g(e,l),a,s),r.apply(this,n),u);pa(t),c>0?jn(this).transition().duration(c).call(_,f,a,t):jn(this).call(v.transform,f,a,t)}}function E(e,...r){if(i.apply(this,arguments)){var o,a,s,l,u=e.touches,c=u.length,f=w(this,r,e.changedTouches.length===c).event(e);for(ha(e),a=0;a<c;++a)l=[l=Pn(s=u[a],this),this.__zoom.invert(l),s.identifier],f.touch0?f.touch1||f.touch0[2]===l[2]||(f.touch1=l,f.taps=0):(f.touch0=l,o=!0,f.taps=1+!!t);t&&(t=clearTimeout(t)),o&&(f.taps<2&&(n=l[0],t=setTimeout((function(){t=null}),500)),oi(this),f.start())}}function M(t,...n){if(this.__zooming){var e,i,r,a,s=w(this,n).event(t),l=t.changedTouches,c=l.length;for(pa(t),e=0;e<c;++e)r=Pn(i=l[e],this),s.touch0&&s.touch0[2]===i.identifier?s.touch0[0]=r:s.touch1&&s.touch1[2]===i.identifier&&(s.touch1[0]=r);if(i=s.that.__zoom,s.touch1){var f=s.touch0[0],h=s.touch0[1],p=s.touch1[0],d=s.touch1[1],v=(v=p[0]-f[0])*v+(v=p[1]-f[1])*v,y=(y=d[0]-h[0])*y+(y=d[1]-h[1])*y;i=g(i,Math.sqrt(v/y)),r=[(f[0]+p[0])/2,(f[1]+p[1])/2],a=[(h[0]+d[0])/2,(h[1]+d[1])/2]}else{if(!s.touch0)return;r=s.touch0[0],a=s.touch0[1]}s.zoom("touch",o(m(i,r,a),s.extent,u))}}function z(t,...i){if(this.__zooming){var r,o,a=w(this,i).event(t),s=t.changedTouches,l=s.length;for(ha(t),e&&clearTimeout(e),e=setTimeout((function(){e=null}),500),r=0;r<l;++r)o=s[r],a.touch0&&a.touch0[2]===o.identifier?delete a.touch0:a.touch1&&a.touch1[2]===o.identifier&&delete a.touch1;if(a.touch1&&!a.touch0&&(a.touch0=a.touch1,delete a.touch1),a.touch0)a.touch0[1]=this.__zoom.invert(a.touch0[0]);else if(a.end(),2===a.taps&&(o=Pn(o,this),Math.hypot(n[0]-o[0],n[1]-o[1])<d)){var u=jn(this).on("dblclick.zoom");u&&u.apply(this,arguments)}}}return v.transform=function(t,n,e,i){var r=t.selection?t.selection():t;r.property("__zoom",ga),t!==r?_(t,n,e,i):r.interrupt().each((function(){w(this,arguments).event(i).start().zoom(null,"function"==typeof n?n.apply(this,arguments):n).end()}))},v.scaleBy=function(t,n,e,i){v.scaleTo(t,(function(){return this.__zoom.k*("function"==typeof n?n.apply(this,arguments):n)}),e,i)},v.scaleTo=function(t,n,e,i){v.transform(t,(function(){var t=r.apply(this,arguments),i=this.__zoom,a=null==e?y(t):"function"==typeof e?e.apply(this,arguments):e,s=i.invert(a),l="function"==typeof n?n.apply(this,arguments):n;return o(m(g(i,l),a,s),t,u)}),e,i)},v.translateBy=function(t,n,e,i){v.transform(t,(function(){return o(this.__zoom.translate("function"==typeof n?n.apply(this,arguments):n,"function"==typeof e?e.apply(this,arguments):e),r.apply(this,arguments),u)}),null,i)},v.translateTo=function(t,n,e,i,a){v.transform(t,(function(){var t=r.apply(this,arguments),a=this.__zoom,s=null==i?y(t):"function"==typeof i?i.apply(this,arguments):i;return o(fa.translate(s[0],s[1]).scale(a.k).translate("function"==typeof n?-n.apply(this,arguments):-n,"function"==typeof e?-e.apply(this,arguments):-e),t,u)}),i,a)},x.prototype={event:function(t){return t&&(this.sourceEvent=t),this},start:function(){return 1===++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(t,n){return this.mouse&&"mouse"!==t&&(this.mouse[1]=n.invert(this.mouse[0])),this.touch0&&"touch"!==t&&(this.touch0[1]=n.invert(this.touch0[0])),this.touch1&&"touch"!==t&&(this.touch1[1]=n.invert(this.touch1[0])),this.that.__zoom=n,this.emit("zoom"),this},end:function(){return 0===--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(t){var n=jn(this.that).datum();h.call(t,this.that,new ua(t,{sourceEvent:this.sourceEvent,target:v,type:t,transform:this.that.__zoom,dispatch:h}),n)}},v.wheelDelta=function(t){return arguments.length?(a="function"==typeof t?t:la(+t),v):a},v.filter=function(t){return arguments.length?(i="function"==typeof t?t:la(!!t),v):i},v.touchable=function(t){return arguments.length?(s="function"==typeof t?t:la(!!t),v):s},v.extent=function(t){return arguments.length?(r="function"==typeof t?t:la([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),v):r},v.scaleExtent=function(t){return arguments.length?(l[0]=+t[0],l[1]=+t[1],v):[l[0],l[1]]},v.translateExtent=function(t){return arguments.length?(u[0][0]=+t[0][0],u[1][0]=+t[1][0],u[0][1]=+t[0][1],u[1][1]=+t[1][1],v):[[u[0][0],u[0][1]],[u[1][0],u[1][1]]]},v.constrain=function(t){return arguments.length?(o=t,v):o},v.duration=function(t){return arguments.length?(c=+t,v):c},v.interpolate=function(t){return arguments.length?(f=t,v):f},v.on=function(){var t=h.on.apply(h,arguments);return t===h?v:t},v.clickDistance=function(t){return arguments.length?(p=(t=+t)*t,v):Math.sqrt(p)},v.tapDistance=function(t){return arguments.length?(d=+t,v):d},v}function xa(t){let n,e,i,r,o,a,s,l,u,p,w,x,b,$,k,E,M,z,S,N,A,C,q,T,j=t[2].name+"",P=t[2].coords[1].toFixed(4)+"",R=t[2].coords[0].toFixed(4)+"",I=t[2].id+"";return{c(){n=d("div"),e=d("h3"),e.textContent="üìç Punto Seleccionado",i=g(),r=d("div"),o=d("div"),a=d("strong"),a.textContent="Nombre:",s=g(),l=v(j),u=g(),p=d("div"),w=d("strong"),w.textContent="Coordenadas:",x=g(),b=v(P),$=v(", "),k=v(R),E=g(),M=d("div"),z=d("strong"),z.textContent="ID:",S=g(),N=v(I),A=g(),C=d("button"),C.textContent="üñºÔ∏è Ver Imagen Asociada",y(e,"class","svelte-zscpfq"),y(a,"class","svelte-zscpfq"),y(o,"class","detail-item svelte-zscpfq"),y(w,"class","svelte-zscpfq"),y(p,"class","detail-item svelte-zscpfq"),y(z,"class","svelte-zscpfq"),y(M,"class","detail-item svelte-zscpfq"),y(C,"class","view-image-btn svelte-zscpfq"),y(r,"class","point-details svelte-zscpfq"),y(n,"class","point-info svelte-zscpfq")},m(h,d){f(h,n,d),c(n,e),c(n,i),c(n,r),c(r,o),c(o,a),c(o,s),c(o,l),c(r,u),c(r,p),c(p,w),c(p,x),c(p,b),c(p,$),c(p,k),c(r,E),c(r,M),c(M,z),c(M,S),c(M,N),c(r,A),c(r,C),q||(T=m(C,"click",t[8]),q=!0)},p(t,n){4&n&&j!==(j=t[2].name+"")&&_(l,j),4&n&&P!==(P=t[2].coords[1].toFixed(4)+"")&&_(b,P),4&n&&R!==(R=t[2].coords[0].toFixed(4)+"")&&_(k,R),4&n&&I!==(I=t[2].id+"")&&_(N,I)},d(t){t&&h(n),q=!1,T()}}}function ba(n){let e,i,r,o,a,s,l,u,p,x,b,$,k,E,M,z,S,N,A,C,q,T,j,P,R,I,L,D,X,O,B,H,V,Y=n[3].length+"",F=n[2]&&xa(n);return{c(){e=d("div"),i=d("h2"),i.textContent="üó∫Ô∏è Mapa de R√≠o de Janeiro",r=g(),o=d("p"),o.textContent="Visualizaci√≥n geoespacial interactiva de los puntos de datos en la regi√≥n metropolitana.\r\n    Haga clic en los puntos para explorar o use zoom y pan para navegar.",a=g(),s=d("div"),l=g(),F&&F.c(),u=g(),p=d("div"),x=d("div"),b=d("div"),$=d("div"),$.textContent="üìä",k=g(),E=d("div"),M=d("div"),z=v(Y),S=g(),N=d("div"),N.textContent="Puntos de Datos",A=g(),C=d("div"),q=d("div"),q.textContent="üéØ",T=g(),j=d("div"),P=d("div"),R=v(n[4]),I=g(),L=d("div"),L.textContent="Imagen Actual",D=g(),X=d("div"),X.innerHTML='<div class="stat-icon svelte-zscpfq">üåç</div> \n        <div class="stat-content svelte-zscpfq"><div class="stat-number svelte-zscpfq">RJ</div> \n          <div class="stat-label svelte-zscpfq">R√≠o de Janeiro</div></div>',O=g(),B=d("div"),B.innerHTML='<h3 class="svelte-zscpfq">üóÇÔ∏è Leyenda del Mapa</h3> \n    <div class="legend-items svelte-zscpfq"><div class="legend-item svelte-zscpfq"><div class="legend-color svelte-zscpfq" style="background: #4682b4;"></div> \n        <span>Caracter√≠sticas Acu√°ticas</span></div> \n      <div class="legend-item svelte-zscpfq"><div class="legend-color svelte-zscpfq" style="background: rgba(139, 69, 19, 0.6);"></div> \n        <span>Elevaciones/Monta√±as</span></div> \n      <div class="legend-item svelte-zscpfq"><div class="legend-color svelte-zscpfq" style="background: #ff6b6b;"></div> \n        <span>Puntos de Datos</span></div> \n      <div class="legend-item svelte-zscpfq"><div class="legend-color grid svelte-zscpfq"></div> \n        <span>Grid de Referencia</span></div></div> \n    \n    <div class="map-instructions svelte-zscpfq"><h4 class="svelte-zscpfq">üí° Instrucciones:</h4> \n      <ul class="svelte-zscpfq"><li class="svelte-zscpfq">üñ±Ô∏è <strong>Clic:</strong> Seleccionar punto</li> \n        <li class="svelte-zscpfq">üîç <strong>Scroll:</strong> Zoom in/out</li> \n        <li class="svelte-zscpfq">üëÜ <strong>Arrastrar:</strong> Pan/mover mapa</li> \n        <li class="svelte-zscpfq">üè† <strong>Reset:</strong> Volver a vista inicial</li></ul></div>',y(i,"class","svelte-zscpfq"),y(o,"class","description svelte-zscpfq"),y(s,"class","map-container svelte-zscpfq"),y($,"class","stat-icon svelte-zscpfq"),y(M,"class","stat-number svelte-zscpfq"),y(N,"class","stat-label svelte-zscpfq"),y(E,"class","stat-content svelte-zscpfq"),y(b,"class","stat-card svelte-zscpfq"),y(q,"class","stat-icon svelte-zscpfq"),y(P,"class","stat-number svelte-zscpfq"),y(L,"class","stat-label svelte-zscpfq"),y(j,"class","stat-content svelte-zscpfq"),y(C,"class","stat-card svelte-zscpfq"),y(X,"class","stat-card svelte-zscpfq"),y(x,"class","stats-grid svelte-zscpfq"),y(p,"class","map-stats svelte-zscpfq"),y(B,"class","map-legend svelte-zscpfq"),y(e,"class","map-section svelte-zscpfq"),w(e,"mounted",n[1])},m(t,h){f(t,e,h),c(e,i),c(e,r),c(e,o),c(e,a),c(e,s),n[7](s),c(e,l),F&&F.m(e,null),c(e,u),c(e,p),c(p,x),c(x,b),c(b,$),c(b,k),c(b,E),c(E,M),c(M,z),c(E,S),c(E,N),c(x,A),c(x,C),c(C,q),c(C,T),c(C,j),c(j,P),c(P,R),c(j,I),c(j,L),c(x,D),c(x,X),c(e,O),c(e,B),H||(V=m(window,"resize",n[5]),H=!0)},p(t,[n]){t[2]?F?F.p(t,n):(F=xa(t),F.c(),F.m(e,u)):F&&(F.d(1),F=null),8&n&&Y!==(Y=t[3].length+"")&&_(z,Y),16&n&&_(R,t[4]),2&n&&w(e,"mounted",t[1])},i:t,o:t,d(t){t&&h(e),n[7](null),F&&F.d(),H=!1,V()}}}function $a(t,n,e){let i,r,o,a,s,l,c,f;u(t,U,(t=>e(4,o=t))),u(t,J,(t=>e(6,a=t)));let h=!1,p=null;var d;function v(){if(!s)return;const t=s.clientWidth,n=500;jn(s).selectAll("*").remove(),l=jn(s).append("svg").attr("width",t).attr("height",n).style("background","linear-gradient(135deg, #e8f4fd 0%, #c3dafe 100%)"),c=Zo().center(r).scale(6e4).translate([t/2,250]),function(t,n){let e,i,r=3,o=4.5;function a(t){return t&&("function"==typeof o&&i.pointRadius(+o.apply(this,arguments)),ar(t,e(i))),i.result()}return a.area=function(t){return ar(t,e(Gr)),Gr.result()},a.measure=function(t){return ar(t,e(Po)),Po.result()},a.bounds=function(t){return ar(t,e(io)),io.result()},a.centroid=function(t){return ar(t,e(ko)),ko.result()},a.projection=function(n){return arguments.length?(e=null==n?(t=null,Dr):(t=n).stream,a):t},a.context=function(t){return arguments.length?(i=null==t?(n=null,new Xo(r)):new Eo(n=t),"function"!=typeof o&&i.pointRadius(o),a):n},a.pointRadius=function(t){return arguments.length?(o="function"==typeof t?t:(i.pointRadius(+t),+t),a):o},a.digits=function(t){if(!arguments.length)return r;if(null==t)r=null;else{const n=Math.floor(t);if(!(n>=0))throw new RangeError(`invalid digits: ${t}`);r=n}return null===n&&(i=new Xo(r)),a},a.projection(t).digits(r).context(n)}().projection(c),f=wa().scaleExtent([.5,8]).on("zoom",g),l.call(f);const o=l.append("g").attr("class","map-group"),a=o.append("g").attr("class","grid-group"),u=o.append("g").attr("class","points-group"),h=o.append("g").attr("class","labels-group");!function(t,n,e){for(let i=0;i<=n;i+=30)t.append("line").attr("x1",i).attr("y1",0).attr("x2",i).attr("y2",e).attr("stroke","rgba(255,255,255,0.3)").attr("stroke-width",.5);for(let i=0;i<=e;i+=30)t.append("line").attr("x1",0).attr("y1",i).attr("x2",n).attr("y2",i).attr("stroke","rgba(255,255,255,0.3)").attr("stroke-width",.5)}(a,t,n),function(t,n,e){const i=[[0,.7*e],[.2*n,.8*e],[.4*n,.75*e],[.6*n,.8*e],[.8*n,.85*e],[n,.9*e]],r=ra().x((t=>t[0])).y((t=>t[1])).curve(sa);t.append("path").datum(i).attr("d",r).attr("stroke","#4682b4").attr("stroke-width",3).attr("fill","none").attr("opacity",.6),t.append("polygon").attr("points",`${i.map((t=>t.join(","))).join(" ")},${n},${e},0,${e}`).attr("fill","rgba(70, 130, 180, 0.2)");const o=[{x:.3*n,y:.3*e,height:15},{x:.4*n,y:.25*e,height:20},{x:.5*n,y:.35*e,height:12},{x:.6*n,y:.2*e,height:18}];o.forEach((n=>{t.append("polygon").attr("points",`${n.x},${n.y} ${n.x-10},${n.y+n.height} ${n.x+10},${n.y+n.height}`).attr("fill","rgba(139, 69, 19, 0.6)").attr("stroke","rgba(139, 69, 19, 0.8)").attr("stroke-width",1)}))}(o,t,n),function(t){const n=jn("body").append("div").attr("class","map-tooltip").style("opacity",0).style("position","absolute").style("background","rgba(0,0,0,0.8)").style("color","white").style("padding","10px").style("border-radius","5px").style("pointer-events","none").style("font-size","12px").style("z-index","1000");t.selectAll(".data-point").data(i).enter().append("circle").attr("class","data-point").attr("cx",(t=>c(t.coords)[0])).attr("cy",(t=>c(t.coords)[1])).attr("r",8).attr("fill",((t,n)=>{const e=["#ff6b6b","#4ecdc4","#45b7d1","#96ceb4","#ffeaa7","#dda0dd","#98d8c8","#f7dc6f"];return e[n%e.length]})).attr("stroke","#fff").attr("stroke-width",2).style("cursor","pointer").style("filter","drop-shadow(0 2px 4px rgba(0,0,0,0.3))").on("mouseover",(function(t,e){jn(this).transition().duration(200).attr("r",12).style("filter","drop-shadow(0 4px 8px rgba(0,0,0,0.4))"),n.transition().duration(200).style("opacity",1),n.html(`\n          <strong>${e.name}</strong><br/>\n          Coordenadas: ${e.coords[1].toFixed(4)}, ${e.coords[0].toFixed(4)}<br/>\n          ID: ${e.id}\n        `).style("left",t.pageX+10+"px").style("top",t.pageY-10+"px")})).on("mouseout",(function(){jn(this).transition().duration(200).attr("r",8).style("filter","drop-shadow(0 2px 4px rgba(0,0,0,0.3))"),n.transition().duration(200).style("opacity",0)})).on("click",(function(t,n){!function(t){e(2,p=t),l.selectAll(".data-point").transition().duration(300).attr("r",(n=>n===t?15:8)).style("opacity",(n=>n===t?1:.6)),void 0!==t.id&&U.set(t.id)}(n)})),t.selectAll(".data-point").style("opacity",0).transition().delay(((t,n)=>100*n)).duration(500).style("opacity",1).attr("r",8)}(u),function(t){t.selectAll(".point-label").data(i).enter().append("text").attr("class","point-label").attr("x",(t=>c(t.coords)[0])).attr("y",(t=>c(t.coords)[1]-15)).attr("text-anchor","middle").attr("font-size","11px").attr("font-weight","bold").attr("fill","#333").attr("stroke","#fff").attr("stroke-width",2).attr("paint-order","stroke").text((t=>t.name)).style("pointer-events","none").style("opacity",0).transition().delay(((t,n)=>100*n+300)).duration(500).style("opacity",1)}(h),function(){const t=jn(s.parentNode).append("div").attr("class","map-controls").style("position","absolute").style("top","10px").style("right","10px").style("z-index","100");t.append("button").attr("class","map-control-button").style("background","#667eea").style("color","white").style("border","none").style("padding","8px 12px").style("margin","2px").style("border-radius","4px").style("cursor","pointer").text("üè† Reset").on("click",m),t.append("button").attr("class","map-control-button").style("background","#667eea").style("color","white").style("border","none").style("padding","8px 12px").style("margin","2px").style("border-radius","4px").style("cursor","pointer").text("‚ûï").on("click",(()=>{l.transition().duration(300).call(f.scaleBy,1.5)})),t.append("button").attr("class","map-control-button").style("background","#667eea").style("color","white").style("border","none").style("padding","8px 12px").style("margin","2px").style("border-radius","4px").style("cursor","pointer").text("‚ûñ").on("click",(()=>{l.transition().duration(300).call(f.scaleBy,1/1.5)}))}()}function g(t){const{transform:n}=t;l.select(".map-group").attr("transform",n)}function m(){l.transition().duration(750).call(f.transform,fa)}$((()=>{e(1,h=!0),v();return U.subscribe((()=>{!function(){if(!l)return;l.selectAll(".data-point").transition().duration(300).attr("r",((t,n)=>n===o%i.length?12:8)).style("opacity",((t,n)=>n===o%i.length?1:.7))}()}))})),d=()=>{l&&l.selectAll("*").remove()},b().$$.on_destroy.push(d);return t.$$.update=()=>{64&t.$$.dirty&&e(3,i=a.points),64&t.$$.dirty&&(r=a.center)},[s,h,p,i,o,function(){h&&s&&v()},a,function(t){E[t?"unshift":"push"]((()=>{s=t,e(0,s)}))},()=>U.set(p.id)]}ca.prototype;class ka extends V{constructor(t){super(),H(this,t,$a,ba,o,{})}}function Ea(t){let n,e;return n=new ka({}),{c(){D(n.$$.fragment)},m(t,i){X(n,t,i),e=!0},i(t){e||(I(n.$$.fragment,t),e=!0)},o(t){L(n.$$.fragment,t),e=!1},d(t){O(n,t)}}}function Ma(t){let n,e;return n=new pt({}),{c(){D(n.$$.fragment)},m(t,i){X(n,t,i),e=!0},i(t){e||(I(n.$$.fragment,t),e=!0)},o(t){L(n.$$.fragment,t),e=!1},d(t){O(n,t)}}}function za(t){let n,e;return n=new rt({}),{c(){D(n.$$.fragment)},m(t,i){X(n,t,i),e=!0},i(t){e||(I(n.$$.fragment,t),e=!0)},o(t){L(n.$$.fragment,t),e=!1},d(t){O(n,t)}}}function Sa(t){let n,e,r,o,a,s,l,u,p,m,w,x,b,$,k,E=t[0].paperTitle+"",M=t[0].paperSubtitle+"";m=new nt({});const z=[za,Ma,Ea],S=[];function N(t,n){return"info"===t[1]?0:"slider"===t[1]?1:"map"===t[1]?2:-1}return~(b=N(t))&&($=S[b]=z[b](t)),{c(){n=d("main"),e=d("div"),r=d("header"),o=d("h1"),a=v(E),s=g(),l=d("p"),u=v(M),p=g(),D(m.$$.fragment),w=g(),x=d("div"),$&&$.c(),y(o,"class","svelte-43ui2e"),y(l,"class","svelte-43ui2e"),y(r,"class","header svelte-43ui2e"),y(x,"class","content svelte-43ui2e"),y(e,"class","container svelte-43ui2e")},m(t,i){f(t,n,i),c(n,e),c(e,r),c(r,o),c(o,a),c(r,s),c(r,l),c(l,u),c(e,p),X(m,e,null),c(e,w),c(e,x),~b&&S[b].m(x,null),k=!0},p(t,[n]){(!k||1&n)&&E!==(E=t[0].paperTitle+"")&&_(a,E),(!k||1&n)&&M!==(M=t[0].paperSubtitle+"")&&_(u,M);let e=b;b=N(t),b!==e&&($&&(R={r:0,c:[],p:R},L(S[e],1,1,(()=>{S[e]=null})),R.r||i(R.c),R=R.p),~b?($=S[b],$||($=S[b]=z[b](t),$.c()),I($,1),$.m(x,null)):$=null)},i(t){k||(I(m.$$.fragment,t),I($),k=!0)},o(t){L(m.$$.fragment,t),L($),k=!1},d(t){t&&h(n),O(m),~b&&S[b].d()}}}function Na(t,n,e){let i,r,o;return u(t,K,(t=>e(2,r=t))),u(t,G,(t=>e(1,o=t))),t.$$.update=()=>{4&t.$$.dirty&&e(0,i=r)},[i,o,r]}return new class extends V{constructor(t){super(),H(this,t,Na,Sa,o,{})}}({target:document.body,props:{}})}();
//# sourceMappingURL=bundle.js.map
